000050841O:8:"stdClass":29:{s:7:"process";a:35:{s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:10:"PRO_PARENT";s:32:"691966554551c676e641aa7085022788";s:8:"PRO_TIME";d:1;s:12:"PRO_TIMEUNIT";s:4:"DAYS";s:10:"PRO_STATUS";s:6:"ACTIVE";s:12:"PRO_TYPE_DAY";s:0:"";s:8:"PRO_TYPE";s:6:"NORMAL";s:14:"PRO_ASSIGNMENT";s:5:"FALSE";s:12:"PRO_SHOW_MAP";i:0;s:16:"PRO_SHOW_MESSAGE";i:0;s:14:"PRO_SUBPROCESS";i:0;s:15:"PRO_TRI_DELETED";s:0:"";s:16:"PRO_TRI_CANCELED";s:0:"";s:14:"PRO_TRI_PAUSED";s:0:"";s:18:"PRO_TRI_REASSIGNED";s:0:"";s:16:"PRO_TRI_UNPAUSED";s:0:"";s:16:"PRO_TYPE_PROCESS";s:6:"PUBLIC";s:17:"PRO_SHOW_DELEGATE";i:0;s:17:"PRO_SHOW_DYNAFORM";i:0;s:12:"PRO_CATEGORY";s:32:"496403377551c6647f07f31066863915";s:16:"PRO_SUB_CATEGORY";s:0:"";s:12:"PRO_INDUSTRY";i:0;s:15:"PRO_UPDATE_DATE";N;s:15:"PRO_CREATE_DATE";s:19:"2015-04-01 16:47:26";s:15:"PRO_CREATE_USER";s:32:"00000000000000000000000000000001";s:10:"PRO_HEIGHT";i:5000;s:9:"PRO_WIDTH";i:10000;s:11:"PRO_TITLE_X";i:532;s:11:"PRO_TITLE_Y";i:19;s:9:"PRO_DEBUG";i:0;s:13:"PRO_DYNAFORMS";a:1:{s:7:"PROCESS";s:0:"";}s:25:"PRO_DERIVATION_SCREEN_TPL";s:0:"";s:15:"PRO_DESCRIPTION";s:67:"permite el registro de un usuario a la Biblioteca del CEDT de Pasto";s:9:"PRO_TITLE";s:31:"Registro de usuarios Biblioteca";s:18:"PRO_CATEGORY_LABEL";s:20:"Biblioteca CEDTPasto";}s:5:"tasks";a:4:{i:0;a:54:{s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"9736325955547fea290e902087347340";s:8:"TAS_TYPE";s:6:"NORMAL";s:12:"TAS_DURATION";d:1;s:14:"TAS_DELAY_TYPE";s:0:"";s:14:"TAS_TEMPORIZER";d:0;s:12:"TAS_TYPE_DAY";s:0:"";s:12:"TAS_TIMEUNIT";s:4:"DAYS";s:9:"TAS_ALERT";s:5:"FALSE";s:21:"TAS_PRIORITY_VARIABLE";s:0:"";s:15:"TAS_ASSIGN_TYPE";s:8:"BALANCED";s:19:"TAS_ASSIGN_VARIABLE";s:30:"@@SYS_NEXT_USER_TO_BE_ASSIGNED";s:18:"TAS_GROUP_VARIABLE";s:0:"";s:24:"TAS_MI_INSTANCE_VARIABLE";s:24:"@@SYS_VAR_TOTAL_INSTANCE";s:24:"TAS_MI_COMPLETE_VARIABLE";s:34:"@@SYS_VAR_TOTAL_INSTANCES_COMPLETE";s:19:"TAS_ASSIGN_LOCATION";s:5:"FALSE";s:25:"TAS_ASSIGN_LOCATION_ADHOC";s:5:"FALSE";s:16:"TAS_TRANSFER_FLY";s:5:"FALSE";s:17:"TAS_LAST_ASSIGNED";s:32:"397640116554ab1f3536344068433920";s:8:"TAS_USER";s:1:"0";s:14:"TAS_CAN_UPLOAD";s:5:"FALSE";s:15:"TAS_VIEW_UPLOAD";s:5:"FALSE";s:33:"TAS_VIEW_ADDITIONAL_DOCUMENTATION";s:5:"FALSE";s:14:"TAS_CAN_CANCEL";s:5:"FALSE";s:13:"TAS_OWNER_APP";s:5:"FALSE";s:7:"STG_UID";s:0:"";s:13:"TAS_CAN_PAUSE";s:5:"FALSE";s:20:"TAS_CAN_SEND_MESSAGE";s:4:"TRUE";s:19:"TAS_CAN_DELETE_DOCS";s:5:"FALSE";s:16:"TAS_SELF_SERVICE";s:5:"FALSE";s:9:"TAS_START";s:4:"TRUE";s:16:"TAS_TO_LAST_USER";s:5:"FALSE";s:19:"TAS_SEND_LAST_EMAIL";s:5:"FALSE";s:14:"TAS_DERIVATION";s:6:"NORMAL";s:8:"TAS_POSX";i:785;s:8:"TAS_POSY";i:261;s:9:"TAS_WIDTH";i:165;s:10:"TAS_HEIGHT";i:40;s:9:"TAS_COLOR";s:0:"";s:11:"TAS_EVN_UID";s:0:"";s:12:"TAS_BOUNDARY";s:0:"";s:25:"TAS_DERIVATION_SCREEN_TPL";s:0:"";s:23:"TAS_SELFSERVICE_TIMEOUT";i:0;s:20:"TAS_SELFSERVICE_TIME";s:0:"";s:25:"TAS_SELFSERVICE_TIME_UNIT";s:0:"";s:27:"TAS_SELFSERVICE_TRIGGER_UID";s:0:"";s:25:"TAS_SELFSERVICE_EXECUTION";s:10:"EVERY_TIME";s:9:"TAS_TITLE";s:31:"Administrar Usuarios Biblioteca";s:15:"TAS_DESCRIPTION";s:82:"Esta tarea se encarga de habilitar o suspender usuarios de biblioteca de CEDTPasto";s:13:"TAS_DEF_TITLE";s:0:"";s:19:"TAS_DEF_DESCRIPTION";s:0:"";s:17:"TAS_DEF_PROC_CODE";s:0:"";s:15:"TAS_DEF_MESSAGE";s:0:"";s:23:"TAS_DEF_SUBJECT_MESSAGE";s:0:"";}i:1;a:54:{s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"227243747551c67b23922d3025614937";s:8:"TAS_TYPE";s:6:"NORMAL";s:12:"TAS_DURATION";d:1;s:14:"TAS_DELAY_TYPE";s:0:"";s:14:"TAS_TEMPORIZER";d:0;s:12:"TAS_TYPE_DAY";s:0:"";s:12:"TAS_TIMEUNIT";s:4:"DAYS";s:9:"TAS_ALERT";s:5:"FALSE";s:21:"TAS_PRIORITY_VARIABLE";s:0:"";s:15:"TAS_ASSIGN_TYPE";s:8:"BALANCED";s:19:"TAS_ASSIGN_VARIABLE";s:30:"@@SYS_NEXT_USER_TO_BE_ASSIGNED";s:18:"TAS_GROUP_VARIABLE";s:0:"";s:24:"TAS_MI_INSTANCE_VARIABLE";s:24:"@@SYS_VAR_TOTAL_INSTANCE";s:24:"TAS_MI_COMPLETE_VARIABLE";s:34:"@@SYS_VAR_TOTAL_INSTANCES_COMPLETE";s:19:"TAS_ASSIGN_LOCATION";s:5:"FALSE";s:25:"TAS_ASSIGN_LOCATION_ADHOC";s:5:"FALSE";s:16:"TAS_TRANSFER_FLY";s:5:"FALSE";s:17:"TAS_LAST_ASSIGNED";s:32:"44736712955604f6ad84698057462242";s:8:"TAS_USER";s:1:"0";s:14:"TAS_CAN_UPLOAD";s:5:"FALSE";s:15:"TAS_VIEW_UPLOAD";s:5:"FALSE";s:33:"TAS_VIEW_ADDITIONAL_DOCUMENTATION";s:5:"FALSE";s:14:"TAS_CAN_CANCEL";s:5:"FALSE";s:13:"TAS_OWNER_APP";s:5:"FALSE";s:7:"STG_UID";s:0:"";s:13:"TAS_CAN_PAUSE";s:5:"FALSE";s:20:"TAS_CAN_SEND_MESSAGE";s:4:"TRUE";s:19:"TAS_CAN_DELETE_DOCS";s:5:"FALSE";s:16:"TAS_SELF_SERVICE";s:5:"FALSE";s:9:"TAS_START";s:4:"TRUE";s:16:"TAS_TO_LAST_USER";s:5:"FALSE";s:19:"TAS_SEND_LAST_EMAIL";s:4:"TRUE";s:14:"TAS_DERIVATION";s:6:"NORMAL";s:8:"TAS_POSX";i:308;s:8:"TAS_POSY";i:132;s:9:"TAS_WIDTH";i:165;s:10:"TAS_HEIGHT";i:40;s:9:"TAS_COLOR";s:0:"";s:11:"TAS_EVN_UID";s:0:"";s:12:"TAS_BOUNDARY";s:0:"";s:25:"TAS_DERIVATION_SCREEN_TPL";s:0:"";s:23:"TAS_SELFSERVICE_TIMEOUT";i:0;s:20:"TAS_SELFSERVICE_TIME";s:0:"";s:25:"TAS_SELFSERVICE_TIME_UNIT";s:0:"";s:27:"TAS_SELFSERVICE_TRIGGER_UID";s:0:"";s:25:"TAS_SELFSERVICE_EXECUTION";s:10:"EVERY_TIME";s:9:"TAS_TITLE";s:16:"Enviar solicitud";s:15:"TAS_DESCRIPTION";s:0:"";s:13:"TAS_DEF_TITLE";s:26:"Enviar solicitud de cuenta";s:19:"TAS_DEF_DESCRIPTION";s:26:"Enviar solicitud de cuenta";s:17:"TAS_DEF_PROC_CODE";s:26:"Enviar solicitud de cuenta";s:15:"TAS_DEF_MESSAGE";s:0:"";s:23:"TAS_DEF_SUBJECT_MESSAGE";s:25:"nueva solicitud de cuenta";}i:2;a:54:{s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"3385949275579e08ae49035054550037";s:8:"TAS_TYPE";s:6:"NORMAL";s:12:"TAS_DURATION";d:1;s:14:"TAS_DELAY_TYPE";s:0:"";s:14:"TAS_TEMPORIZER";d:0;s:12:"TAS_TYPE_DAY";s:0:"";s:12:"TAS_TIMEUNIT";s:4:"DAYS";s:9:"TAS_ALERT";s:5:"FALSE";s:21:"TAS_PRIORITY_VARIABLE";s:0:"";s:15:"TAS_ASSIGN_TYPE";s:8:"BALANCED";s:19:"TAS_ASSIGN_VARIABLE";s:30:"@@SYS_NEXT_USER_TO_BE_ASSIGNED";s:18:"TAS_GROUP_VARIABLE";s:0:"";s:24:"TAS_MI_INSTANCE_VARIABLE";s:24:"@@SYS_VAR_TOTAL_INSTANCE";s:24:"TAS_MI_COMPLETE_VARIABLE";s:34:"@@SYS_VAR_TOTAL_INSTANCES_COMPLETE";s:19:"TAS_ASSIGN_LOCATION";s:5:"FALSE";s:25:"TAS_ASSIGN_LOCATION_ADHOC";s:5:"FALSE";s:16:"TAS_TRANSFER_FLY";s:5:"FALSE";s:17:"TAS_LAST_ASSIGNED";s:32:"5899703255576f31e91baf6070060189";s:8:"TAS_USER";s:1:"0";s:14:"TAS_CAN_UPLOAD";s:5:"FALSE";s:15:"TAS_VIEW_UPLOAD";s:5:"FALSE";s:33:"TAS_VIEW_ADDITIONAL_DOCUMENTATION";s:5:"FALSE";s:14:"TAS_CAN_CANCEL";s:5:"FALSE";s:13:"TAS_OWNER_APP";s:5:"FALSE";s:7:"STG_UID";s:0:"";s:13:"TAS_CAN_PAUSE";s:5:"FALSE";s:20:"TAS_CAN_SEND_MESSAGE";s:4:"TRUE";s:19:"TAS_CAN_DELETE_DOCS";s:5:"FALSE";s:16:"TAS_SELF_SERVICE";s:5:"FALSE";s:9:"TAS_START";s:4:"TRUE";s:16:"TAS_TO_LAST_USER";s:5:"FALSE";s:19:"TAS_SEND_LAST_EMAIL";s:5:"FALSE";s:14:"TAS_DERIVATION";s:6:"NORMAL";s:8:"TAS_POSX";i:1023;s:8:"TAS_POSY";i:260;s:9:"TAS_WIDTH";i:165;s:10:"TAS_HEIGHT";i:40;s:9:"TAS_COLOR";s:0:"";s:11:"TAS_EVN_UID";s:0:"";s:12:"TAS_BOUNDARY";s:0:"";s:25:"TAS_DERIVATION_SCREEN_TPL";s:0:"";s:23:"TAS_SELFSERVICE_TIMEOUT";i:0;s:20:"TAS_SELFSERVICE_TIME";s:0:"";s:25:"TAS_SELFSERVICE_TIME_UNIT";s:0:"";s:27:"TAS_SELFSERVICE_TRIGGER_UID";s:0:"";s:25:"TAS_SELFSERVICE_EXECUTION";s:10:"EVERY_TIME";s:9:"TAS_TITLE";s:17:"Modificar usuario";s:15:"TAS_DESCRIPTION";s:0:"";s:13:"TAS_DEF_TITLE";s:0:"";s:19:"TAS_DEF_DESCRIPTION";s:0:"";s:17:"TAS_DEF_PROC_CODE";s:0:"";s:15:"TAS_DEF_MESSAGE";s:0:"";s:23:"TAS_DEF_SUBJECT_MESSAGE";s:0:"";}i:3;a:54:{s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"937065297551c67c1411fe6087660239";s:8:"TAS_TYPE";s:6:"NORMAL";s:12:"TAS_DURATION";d:1;s:14:"TAS_DELAY_TYPE";s:0:"";s:14:"TAS_TEMPORIZER";d:0;s:12:"TAS_TYPE_DAY";s:0:"";s:12:"TAS_TIMEUNIT";s:4:"DAYS";s:9:"TAS_ALERT";s:5:"FALSE";s:21:"TAS_PRIORITY_VARIABLE";s:0:"";s:15:"TAS_ASSIGN_TYPE";s:8:"BALANCED";s:19:"TAS_ASSIGN_VARIABLE";s:30:"@@SYS_NEXT_USER_TO_BE_ASSIGNED";s:18:"TAS_GROUP_VARIABLE";s:0:"";s:24:"TAS_MI_INSTANCE_VARIABLE";s:24:"@@SYS_VAR_TOTAL_INSTANCE";s:24:"TAS_MI_COMPLETE_VARIABLE";s:34:"@@SYS_VAR_TOTAL_INSTANCES_COMPLETE";s:19:"TAS_ASSIGN_LOCATION";s:5:"FALSE";s:25:"TAS_ASSIGN_LOCATION_ADHOC";s:5:"FALSE";s:16:"TAS_TRANSFER_FLY";s:5:"FALSE";s:17:"TAS_LAST_ASSIGNED";s:32:"5899703255576f31e91baf6070060189";s:8:"TAS_USER";s:1:"0";s:14:"TAS_CAN_UPLOAD";s:5:"FALSE";s:15:"TAS_VIEW_UPLOAD";s:5:"FALSE";s:33:"TAS_VIEW_ADDITIONAL_DOCUMENTATION";s:5:"FALSE";s:14:"TAS_CAN_CANCEL";s:5:"FALSE";s:13:"TAS_OWNER_APP";s:5:"FALSE";s:7:"STG_UID";s:0:"";s:13:"TAS_CAN_PAUSE";s:5:"FALSE";s:20:"TAS_CAN_SEND_MESSAGE";s:4:"TRUE";s:19:"TAS_CAN_DELETE_DOCS";s:5:"FALSE";s:16:"TAS_SELF_SERVICE";s:5:"FALSE";s:9:"TAS_START";s:5:"FALSE";s:16:"TAS_TO_LAST_USER";s:5:"FALSE";s:19:"TAS_SEND_LAST_EMAIL";s:5:"FALSE";s:14:"TAS_DERIVATION";s:6:"NORMAL";s:8:"TAS_POSX";i:487;s:8:"TAS_POSY";i:268;s:9:"TAS_WIDTH";i:165;s:10:"TAS_HEIGHT";i:40;s:9:"TAS_COLOR";s:0:"";s:11:"TAS_EVN_UID";s:0:"";s:12:"TAS_BOUNDARY";s:0:"";s:25:"TAS_DERIVATION_SCREEN_TPL";s:0:"";s:23:"TAS_SELFSERVICE_TIMEOUT";i:0;s:20:"TAS_SELFSERVICE_TIME";s:0:"";s:25:"TAS_SELFSERVICE_TIME_UNIT";s:0:"";s:27:"TAS_SELFSERVICE_TRIGGER_UID";s:0:"";s:25:"TAS_SELFSERVICE_EXECUTION";s:10:"EVERY_TIME";s:9:"TAS_TITLE";s:22:"Verificar Información";s:15:"TAS_DESCRIPTION";s:0:"";s:13:"TAS_DEF_TITLE";s:47:"@#TXT_NUM_DOC_REG : @#TXT_NOM_REG @#TXT_APE_REG";s:19:"TAS_DEF_DESCRIPTION";s:47:"@#TXT_NUM_DOC_REG : @#TXT_NOM_REG @#TXT_APE_REG";s:17:"TAS_DEF_PROC_CODE";s:47:"@#TXT_NUM_DOC_REG : @#TXT_NOM_REG @#TXT_APE_REG";s:15:"TAS_DEF_MESSAGE";s:0:"";s:23:"TAS_DEF_SUBJECT_MESSAGE";s:0:"";}}s:6:"routes";a:4:{i:0;a:17:{s:7:"ROU_UID";s:32:"54432553155c38b329a4f23096937142";s:10:"ROU_PARENT";s:1:"0";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"937065297551c67c1411fe6087660239";s:13:"ROU_NEXT_TASK";s:2:"-1";s:8:"ROU_CASE";s:1:"1";s:8:"ROU_TYPE";s:10:"SEQUENTIAL";s:13:"ROU_CONDITION";s:0:"";s:16:"ROU_TO_LAST_USER";s:5:"FALSE";s:12:"ROU_OPTIONAL";s:5:"FALSE";s:14:"ROU_SEND_EMAIL";s:4:"TRUE";s:16:"ROU_SOURCEANCHOR";s:1:"1";s:16:"ROU_TARGETANCHOR";s:1:"0";s:11:"ROU_TO_PORT";s:1:"1";s:13:"ROU_FROM_PORT";s:1:"2";s:11:"ROU_EVN_UID";s:32:"15417050055bd33c252edb1091252695";s:7:"GAT_UID";s:0:"";}i:1;a:17:{s:7:"ROU_UID";s:32:"54789242855c38b328b23e0059349749";s:10:"ROU_PARENT";s:1:"0";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"227243747551c67b23922d3025614937";s:13:"ROU_NEXT_TASK";s:32:"937065297551c67c1411fe6087660239";s:8:"ROU_CASE";s:1:"1";s:8:"ROU_TYPE";s:10:"SEQUENTIAL";s:13:"ROU_CONDITION";s:0:"";s:16:"ROU_TO_LAST_USER";s:5:"FALSE";s:12:"ROU_OPTIONAL";s:5:"FALSE";s:14:"ROU_SEND_EMAIL";s:4:"TRUE";s:16:"ROU_SOURCEANCHOR";s:1:"1";s:16:"ROU_TARGETANCHOR";s:1:"0";s:11:"ROU_TO_PORT";s:1:"1";s:13:"ROU_FROM_PORT";s:1:"2";s:11:"ROU_EVN_UID";s:0:"";s:7:"GAT_UID";s:0:"";}i:2;a:17:{s:7:"ROU_UID";s:32:"63659437255c38b328c98c2049783024";s:10:"ROU_PARENT";s:1:"0";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"9736325955547fea290e902087347340";s:13:"ROU_NEXT_TASK";s:2:"-1";s:8:"ROU_CASE";s:1:"1";s:8:"ROU_TYPE";s:10:"SEQUENTIAL";s:13:"ROU_CONDITION";s:0:"";s:16:"ROU_TO_LAST_USER";s:5:"FALSE";s:12:"ROU_OPTIONAL";s:5:"FALSE";s:14:"ROU_SEND_EMAIL";s:4:"TRUE";s:16:"ROU_SOURCEANCHOR";s:1:"1";s:16:"ROU_TARGETANCHOR";s:1:"0";s:11:"ROU_TO_PORT";s:1:"1";s:13:"ROU_FROM_PORT";s:1:"2";s:11:"ROU_EVN_UID";s:32:"19081921455c38b3297d142003949399";s:7:"GAT_UID";s:0:"";}i:3;a:17:{s:7:"ROU_UID";s:32:"99391630055c38b329bbc85055359890";s:10:"ROU_PARENT";s:1:"0";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"3385949275579e08ae49035054550037";s:13:"ROU_NEXT_TASK";s:2:"-1";s:8:"ROU_CASE";s:1:"1";s:8:"ROU_TYPE";s:10:"SEQUENTIAL";s:13:"ROU_CONDITION";s:0:"";s:16:"ROU_TO_LAST_USER";s:5:"FALSE";s:12:"ROU_OPTIONAL";s:5:"FALSE";s:14:"ROU_SEND_EMAIL";s:4:"TRUE";s:16:"ROU_SOURCEANCHOR";s:1:"1";s:16:"ROU_TARGETANCHOR";s:1:"0";s:11:"ROU_TO_PORT";s:1:"1";s:13:"ROU_FROM_PORT";s:1:"2";s:11:"ROU_EVN_UID";s:32:"31684238655c38b32a82965049672074";s:7:"GAT_UID";s:0:"";}}s:5:"lanes";a:6:{i:0;a:9:{s:7:"SWI_UID";s:32:"19332644255c38b32af4329059748152";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"SWI_TYPE";s:4:"LINE";s:5:"SWI_X";i:0;s:5:"SWI_Y";i:92;s:9:"SWI_WIDTH";i:0;s:10:"SWI_HEIGHT";i:0;s:12:"SWI_NEXT_UID";s:0:"";s:8:"SWI_TEXT";s:0:"";}i:1;a:9:{s:7:"SWI_UID";s:32:"31271819655c38b32aa5973070649105";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"SWI_TYPE";s:4:"LINE";s:5:"SWI_X";i:0;s:5:"SWI_Y";i:196;s:9:"SWI_WIDTH";i:0;s:10:"SWI_HEIGHT";i:0;s:12:"SWI_NEXT_UID";s:0:"";s:8:"SWI_TEXT";s:0:"";}i:2;a:9:{s:7:"SWI_UID";s:32:"38378789055c38b32b3dc61036033162";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"SWI_TYPE";s:4:"TEXT";s:5:"SWI_X";i:54;s:5:"SWI_Y";i:251;s:9:"SWI_WIDTH";i:0;s:10:"SWI_HEIGHT";i:0;s:12:"SWI_NEXT_UID";s:0:"";s:8:"SWI_TEXT";s:13:"Bibliotecaria";}i:3;a:9:{s:7:"SWI_UID";s:32:"76315526355c38b32b19148076852635";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"SWI_TYPE";s:4:"LINE";s:5:"SWI_X";i:165;s:5:"SWI_Y";i:0;s:9:"SWI_WIDTH";i:0;s:10:"SWI_HEIGHT";i:0;s:12:"SWI_NEXT_UID";s:0:"";s:8:"SWI_TEXT";s:0:"";}i:4;a:9:{s:7:"SWI_UID";s:32:"91452822855c38b32b62688055176438";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"SWI_TYPE";s:4:"LINE";s:5:"SWI_X";i:0;s:5:"SWI_Y";i:397;s:9:"SWI_WIDTH";i:0;s:10:"SWI_HEIGHT";i:0;s:12:"SWI_NEXT_UID";s:0:"";s:8:"SWI_TEXT";s:0:"";}i:5;a:9:{s:7:"SWI_UID";s:32:"95000217855c38b32ace526083672479";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"SWI_TYPE";s:4:"TEXT";s:5:"SWI_X";i:57;s:5:"SWI_Y";i:134;s:9:"SWI_WIDTH";i:0;s:10:"SWI_HEIGHT";i:0;s:12:"SWI_NEXT_UID";s:0:"";s:8:"SWI_TEXT";s:10:"Ciudadanos";}}s:8:"gateways";a:0:{}s:6:"inputs";a:1:{i:0;a:13:{s:11:"INP_DOC_UID";s:32:"61903007255317d2ecdbfa5020312130";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:19:"INP_DOC_FORM_NEEDED";s:7:"VIRTUAL";s:16:"INP_DOC_ORIGINAL";s:8:"ORIGINAL";s:17:"INP_DOC_PUBLISHED";s:7:"PRIVATE";s:18:"INP_DOC_VERSIONING";i:1;s:24:"INP_DOC_DESTINATION_PATH";s:65:"DocumentosBiblioteca/@#TXT_NUM_DOC_REG/@#TXT_NOM_REG@#TXT_APE_REG";s:12:"INP_DOC_TAGS";s:28:"documentos anexos biblioteca";s:17:"INP_DOC_TYPE_FILE";s:26:"*.jpg, *.png, *.doc, *.pdf";s:20:"INP_DOC_MAX_FILESIZE";i:3;s:25:"INP_DOC_MAX_FILESIZE_UNIT";s:2:"MB";s:13:"INP_DOC_TITLE";s:20:"DOC ANEXOS BIBLITECA";s:19:"INP_DOC_DESCRIPTION";s:56:"Almacena los documentos anexos al registro de un usuario";}}s:7:"outputs";a:0:{}s:9:"dynaforms";a:7:{i:0;a:8:{s:7:"DYN_UID";s:32:"2619773225547ffef58efc6073888541";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"691966554551c676e641aa7085022788/2619773225547ffef58efc6073888541";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:14:"FRM_ACTUALIZAR";s:15:"DYN_DESCRIPTION";s:78:"Este formulario se encarga de actualizar el estado de un usuario de biblioteca";}i:1;a:8:{s:7:"DYN_UID";s:32:"4151086425522fbd84485a7095164098";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"691966554551c676e641aa7085022788/4151086425522fbd84485a7095164098";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:27:"FRM_VALIDACION_INFORMACIÓN";s:15:"DYN_DESCRIPTION";s:57:"Formulario de validación de información de un ciudadano";}i:2;a:8:{s:7:"DYN_UID";s:32:"43385393955783fff3bba81078420775";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"691966554551c676e641aa7085022788/43385393955783fff3bba81078420775";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:22:"FRM_ACT_USU_BIBLIOTECA";s:15:"DYN_DESCRIPTION";s:50:"Formulario de modificación de usuario Biblioteca ";}i:3;a:8:{s:7:"DYN_UID";s:32:"46879902955317a101cb729080830249";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"DYN_TYPE";s:4:"grid";s:12:"DYN_FILENAME";s:65:"691966554551c676e641aa7085022788/46879902955317a101cb729080830249";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:18:"GRD_CARGAR_DOC_REG";s:15:"DYN_DESCRIPTION";s:67:"Permite cargar los documentos los usuarios registrados a biblioteca";}i:4;a:8:{s:7:"DYN_UID";s:32:"7287635295579e2501e3192070306018";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"691966554551c676e641aa7085022788/7287635295579e2501e3192070306018";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:30:"FRM_UPDATE_REGISTRO_BIBLIOTECA";s:15:"DYN_DESCRIPTION";s:54:"Formulario de actualización registro a la Biblioteca ";}i:5;a:8:{s:7:"DYN_UID";s:32:"765113650551c69bd83f4e6041252320";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"691966554551c676e641aa7085022788/765113650551c69bd83f4e6041252320";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:23:"FRM_REGISTRO_BIBLIOTECA";s:15:"DYN_DESCRIPTION";s:39:"Formulario de registro a la Biblioteca ";}i:6;a:8:{s:7:"DYN_UID";s:32:"8009374245578539d44f373083480071";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"DYN_TYPE";s:7:"xmlform";s:12:"DYN_FILENAME";s:65:"691966554551c676e641aa7085022788/8009374245578539d44f373083480071";s:11:"DYN_CONTENT";N;s:11:"DYN_VERSION";i:0;s:9:"DYN_TITLE";s:14:"FRM_CC_ACT_USR";s:15:"DYN_DESCRIPTION";s:31:"Cédula de usuario a actualizar";}}s:5:"steps";a:5:{i:0;a:8:{s:8:"STEP_UID";s:32:"2357200255579e2abcb3a15093874973";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"3385949275579e08ae49035054550037";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"7287635295579e2501e3192070306018";s:14:"STEP_CONDITION";s:0:"";s:13:"STEP_POSITION";i:2;s:9:"STEP_MODE";s:4:"EDIT";}i:1;a:8:{s:8:"STEP_UID";s:32:"6483479135523074c6aca32013124854";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"937065297551c67c1411fe6087660239";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"4151086425522fbd84485a7095164098";s:14:"STEP_CONDITION";s:0:"";s:13:"STEP_POSITION";i:1;s:9:"STEP_MODE";s:4:"EDIT";}i:2;a:8:{s:8:"STEP_UID";s:32:"712988064554805346387b4028258773";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"9736325955547fea290e902087347340";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"2619773225547ffef58efc6073888541";s:14:"STEP_CONDITION";s:0:"";s:13:"STEP_POSITION";i:1;s:9:"STEP_MODE";s:4:"EDIT";}i:3;a:8:{s:8:"STEP_UID";s:32:"900862611551c6be9ca3525010836123";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"227243747551c67b23922d3025614937";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"765113650551c69bd83f4e6041252320";s:14:"STEP_CONDITION";s:0:"";s:13:"STEP_POSITION";i:1;s:9:"STEP_MODE";s:4:"EDIT";}i:4;a:8:{s:8:"STEP_UID";s:32:"9722426065579e1227ef365006411106";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:7:"TAS_UID";s:32:"3385949275579e08ae49035054550037";s:13:"STEP_TYPE_OBJ";s:8:"DYNAFORM";s:12:"STEP_UID_OBJ";s:32:"8009374245578539d44f373083480071";s:14:"STEP_CONDITION";s:0:"";s:13:"STEP_POSITION";i:1;s:9:"STEP_MODE";s:4:"EDIT";}}s:8:"triggers";a:12:{i:0;a:7:{s:7:"TRI_UID";s:32:"12541099555310ae742b6e2097277299";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:306:"$opcion 	= @@DRP_ESTADO_VALIDACION_REG;
$username 	= @@TXT_EMAIL_REG;
  
if($opcion == 1){
	$estado = 'VALIDADO';
}
else if($opcion == 2){
	$estado = 'RECHAZADO';
}

$query = "UPDATE PMT_BITACORA_USUARIOS_BIBLIOTECA SET ESTADO_REG = '$estado' WHERE USERNAME_REG = '$username'";
$res = executeQuery($query);";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:25:"TGG_CAMBIAR_ESTADO_CUENTA";s:15:"TRI_DESCRIPTION";s:110:"Este tigre se encarga de cambiar el estado de una cuenta en la tabla de bitácora de usuarios de la biblioteca";}i:1;a:7:{s:7:"TRI_UID";s:32:"1412047435544fa2d787d34025526066";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:203:"PMFSendMessage (@@APPLICATION,'lennin@parquesoftpasto.com',@@TXT_EMAIL_REG,' ',' ','Notificación de creación de su cuenta para la Biblioteca CEDT-Pasto','notCREACIOcuenta.html',array(),array(),true,0);";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:23:"TGG_NOT_CREACION_CUENTA";s:15:"TRI_DESCRIPTION";s:35:"NOTIFICA LA CREACIÓN DE LA CUENTA ";}i:2;a:7:{s:7:"TRI_UID";s:32:"2168137545529880d715502060522928";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:402:"	$username = @@TXT_EMAIL_REG;
      
	$query = "SELECT USR_UID FROM USERS WHERE USR_EMAIL = '$username'";
	$res = executeQuery($query);
	$usr_uid = $res[1]['USR_UID'];

	$var = PMFAssignUserToGroup($usr_uid,'117838649552986e72b87f6075541518'); // Agrega a grupo usuarios biblioteca
	if($var == 0)
		@@asignacion  = "No asignado a grupo biblioteca";
	else
		@@asignacion = "Asignado a grupo biblioteca";";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:32:"TGG_AGREGAR_USU_A_GRP_BIBLIOTECA";s:15:"TRI_DESCRIPTION";s:43:"Agrega el nuevo usuario al grupo biblioteca";}i:3;a:7:{s:7:"TRI_UID";s:32:"2397195155523f62d215e00068142778";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:2079:"$username 		= @@TXT_EMAIL_REG;
$nombre 		= @@TXT_NOM_REG;
$apellido 		= @@TXT_APE_REG;
$email 			= @@TXT_EMAIL_REG;
$password 		= @@TXT_PASSWORD;
$rol 			= "USUARIO_BIBLIOTECA";

$var = PMFCreateUser($username,$password,$nombre,$apellido,$email,$rol);

if ($var == 0){
    @@text = 'not created';
    G::SendMessageText(@@ERROR, "HUBO UN PROBLEMA AL CREAR LA CUENTA");
}
  else{
    @@text = 'created';
    $pais          = @@DRP_PAIS_REG;
	$departamento  = @@DRP_DEP_NAC_REG;
	$ciudad        = @@DRP_CIU_NAC_REG;
    $direccion     = @@TXT_DIR_REG;
    $fijo          = @@TEL_FIJO_REG;
	$celular       = @@TXT_CEL_REG;
	$fecha_nac     = @@DATE_FECHA_NAC_REG;

    $tipo_doc      = @@DRP_TIPO_DOC_REG;
	$doc           = @@TXT_NUM_DOC_REG;
	$genero        = @@DRP_GEN_REG;	
	$est_civil     = @@DRP_EST_CIVIL_REG;
	$ocupacion     = @@DRP_OCU_REG;
	$estudios      = @@DRP_ESTU_REG;
	$estudios_otro = @@TXT_OTROS_EST_REG;
	$inst_edu      = @@TXT_INST_EDU_REG;
	$contacto      = @@TXT_NOM_REF_REG;
	$contacto_tel  = @@TXT_TEL_REF_REG;
	$contacto_ocu  = @@TXT_OCU_REF_REG;
	$estado		   = @@DRP_ESTADO_VALIDACION_REG;
	$nota		   = @@TXT_NOTA_VAL_REG;
    $email_ref	   = @@TXT_EMAIL_REF_REG;
      
    $query = "SELECT USR_UID FROM USERS WHERE USR_USERNAME = '$username'";
 	$res = executeQuery($query);
    $usr_uid = $res[1]['USR_UID'];
      
    $query = "UPDATE USERS SET USR_COUNTRY = '$pais',USR_CITY = '$ciudad',USR_LOCATION = '$departamento',USR_ADDRESS = '$direccion',USR_PHONE = '$fijo',USR_CELLULAR = '$celular',USR_BIRTHDAY = '$fecha_nac' WHERE USR_UID = '$usr_uid'";
 	$res = executeQuery($query);
      
    $query = "INSERT INTO PMT_AUX_USU_REG (USR_UID,TIPO_DOC_REG,NUM_DOC_REG,GEN_REG,EST_CIVIL_REG,OCU_REG,ESTU_REG,OTROS_EST_REG,INST_EDU_REG,NOM_REF_REG,TEL_REF_REG,OCU_REF_REG,ESTADO_VALIDACION_REG,NOTA_VAL_REG,EMAIL_REF_REG) 
    							VALUES('$usr_uid','$tipo_doc','$doc','$genero','$est_civil','$ocupacion','$estudios','$estudios_otro','$inst_edu','$contacto','$contacto_tel','$contacto_ocu','$estado','$nota','$email_ref')";

 	$res = executeQuery($query);
 }";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:27:"TGG_CREAR_CUENTA_BIBLIOTECA";s:15:"TRI_DESCRIPTION";s:55:"SIRVE PARA CREAR UNA CUENTA DE UN USUARIO DE BIBLIOTECA";}i:4;a:7:{s:7:"TRI_UID";s:32:"25243963255786ccb5b8423066813948";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:1408:"$tip_doc=@@DRP_TIPO_DOC_REG;
$doc=@@TXT_NUM_DOC_REG;
$nom=@@TXT_NOM_REG;
$ape=@@TXT_APE_REG;
$cumple=@@DATE_FECHA_NAC_REG;   
$pais=@@DRP_PAIS_REG;   
$dep=@@DRP_DEP_NAC_REG; 
$ciu=@@DRP_CIU_NAC_REG;
$dir_reg=@@TXT_DIR_REG;
$genero=@@DRP_GEN_REG;
$civil=@@DRP_EST_CIVIL_REG ;   
$ocupa=@@DRP_OCU_REG;
$estu=@@DRP_ESTU_REG;
$o_estu=@@TXT_OTROS_EST_REG; 
$inst=@@TXT_INST_EDU_REG;  
$correo=@@TXT_EMAIL_REG; 
$cel=@@TXT_CEL_REG;   
$fijo=@@TEL_FIJO_REG;
$nom_ref=@@TXT_NOM_REF_REG;   
$tel=@@TXT_TEL_REF_REG;   
$email_ref=@@TXT_EMAIL_REF_REG;
$ocu_ref=@@TXT_OCU_REF_REG;



if ( $estu == '5' ) {
	$o_estu = "";
	$inst="";
}

if ( $estu != '5' and $estu != '6' ) {
	$o_estu=""; 
}



$query = " 


UPDATE PMT_BITACORA_USUARIOS_BIBLIOTECA SET  
ID_TIPO_DOC_REG ='tipo_doc',
USR_NUM_DOC_REG = '$doc',
NOMBRES_REG =  '$nom',
APELLIDOS_REG =  '$ape',
FECHA_NAC_REG =  '$cumple',
PAIS_REG =  '$pais',
DEPARTAMENTO_REG =  '$dep',
CIUDAD_REG =  '$ciu',
DIRECCION_REG =  '$dir_reg',
GENERO_REG =  '$genero',
EST_CIVIL_REG =  '$civil',
OCUPACION_REG =  '$ocupa',
NIVEL_ESTUDIO_REG =  '$estu',
NIVEL_ESTUDIO_OTRO_REG = '$o_estu',
INST_EDUCATIVA_REG =  '$inst',
EMAIL_REG =  '$correo',
CELULAR_REG =  '$cel',
TELEFONO_REG =  '$fijo',
CONTACTO_REG =  '$nom_ref',
CONTACTO_TEL_REG =  '$tel',
EMAIL_REF_REG =  '$email_ref',
CONTACTO_OCU_REG =  '$ocu_ref' 
WHERE USR_NUM_DOC_REG =  '$doc'

";

$res = executeQuery($query);


";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:19:"TGG_UPDATE_INFO_USU";s:15:"TRI_DESCRIPTION";s:45:"Actualizar información de usuario biblioteca";}i:5;a:7:{s:7:"TRI_UID";s:32:"43767738155785c51386370021235953";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:1288:"$cedula = @@TXT_DOC_IDENTIDAD;

$query = "select * from PMT_BITACORA_USUARIOS_BIBLIOTECA where USR_NUM_DOC_REG = '$cedula' ";

  
$result = executeQuery($query);
  
@@TXT_NUM_DOC_REG = $result['1']['USR_NUM_DOC_REG'];  
@@TXT_NOM_REG  = $result['1']['NOMBRES_REG']; 
@@TXT_APE_REG  = $result['1']['APELLIDOS_REG']; 
@@DATE_FECHA_NAC_REG  = $result['1']['FECHA_NAC_REG'];   
@@DRP_PAIS_REG  = $result['1']['PAIS_REG'];   
@@DRP_DEP_NAC_REG  = $result['1']['DEPARTAMENTO_REG'];   
@@DRP_CIU_NAC_REG  = $result['1']['CIUDAD_REG'];   
@@TXT_DIR_REG  = $result['1']['DIRECCION_REG'];
@@DRP_GEN_REG  = $result['1']['GENERO_REG'];
@@DRP_EST_CIVIL_REG  = $result['1']['EST_CIVIL_REG'];   
@@DRP_OCU_REG  = $result['1']['OCUPACION_REG'];   
@@DRP_ESTU_REG  = $result['1']['NIVEL_ESTUDIO_REG'];
@@TXT_OTROS_EST_REG = $result['1']['NIVEL_ESTUDIO_OTRO_REG'];   
@@TXT_INST_EDU_REG  = $result['1']['INST_EDUCATIVA_REG'];   
  
@@TXT_EMAIL_REG  = $result['1']['EMAIL_REG']; 
@@TXT_CEL_REG  = $result['1']['CELULAR_REG'];   
@@TEL_FIJO_REG  = $result['1']['TELEFONO_REG'];
@@TXT_NOM_REF_REG  = $result['1']['CONTACTO_REG'];   
@@TXT_TEL_REF_REG  = $result['1']['CONTACTO_TEL_REG'];   
@@TXT_EMAIL_REF_REG  = $result['1']['EMAIL_REF_REG'];   
@@TXT_OCU_REF_REG  = $result['1']['CONTACTO_OCU_REG'];   
  
";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:13:"TGG_ENV_DATOS";s:15:"TRI_DESCRIPTION";s:30:"Envio de datos form actualizar";}i:6;a:7:{s:7:"TRI_UID";s:32:"516895766554806e8779067028771987";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:371:"$opcion = @@DRP_SEL;
$doc 	= @@TXT_NUM_DOC;

if($opcion == 1){
	$query = "UPDATE PMT_BITACORA_USUARIOS_BIBLIOTECA SET ESTADO_REG = 'SUSPENDIDO' WHERE USR_NUM_DOC_REG = '$doc'";
	$res = executeQuery($query);
}

if($opcion == 2){
	$query = "UPDATE PMT_BITACORA_USUARIOS_BIBLIOTECA SET ESTADO_REG = 'VALIDADO' WHERE USR_NUM_DOC_REG = '$doc'";
	$res = executeQuery($query);
}";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:18:"TGG_ACTUALIZAR_USU";s:15:"TRI_DESCRIPTION";s:47:"Actualiza el estado de un usuario de biblioteca";}i:7;a:7:{s:7:"TRI_UID";s:32:"586903613557225e4c89849022240617";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:215:"PMFSendMessage (@@APPLICATION,'luicasas@gmail.com.com',@@TXT_EMAIL_REG,' ',' ','Notificación de envio de solicitud de creación de su cuenta para la Biblioteca CEDT-Pasto','notNEWsol.html',array(),array(),true,0);
";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:18:"TGG_NOT_SOL_CUENTA";s:15:"TRI_DESCRIPTION";s:36:"Notificación de creación de cuenta";}i:8;a:7:{s:7:"TRI_UID";s:32:"5989336265544f209776b00064376725";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:186:"PMFSendMessage (@@APPLICATION,'lennin@parquesoftpasto.com',@@TXT_EMAIL_REG,' ',' ','Notificación de recepción de solicitud Biblioteca CEDT-Pasto','newREG.html',array(),array(),true,0);";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:19:"TGG_NOT_CIU_NEW_SOL";s:15:"TRI_DESCRIPTION";s:89:"NOTIFICA AL CIUDADANO LA INFORMACION ENVIADA DE LA SOLICITUD DE REGISTRO EN LA BIBLIOTECA";}i:9;a:7:{s:7:"TRI_UID";s:32:"6968169955530543c8202a7059918965";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:1676:"$username 		= @@TXT_EMAIL_REG;
$nombre 		= @@TXT_NOM_REG;
$apellido 		= @@TXT_APE_REG;
$email 			= @@TXT_EMAIL_REG;
$pais           = @@DRP_PAIS_REG;
$departamento   = @@DRP_DEP_NAC_REG;
$ciudad         = @@DRP_CIU_NAC_REG;
$direccion      = @@TXT_DIR_REG;	
$fijo           = @@TEL_FIJO_REG;	
$celular        = @@TXT_CEL_REG;	
$fecha_nac      = @@DATE_FECHA_NAC_REG;

$tipo_doc       = @@DRP_TIPO_DOC_REG;
$doc            = @@TXT_NUM_DOC_REG;
$genero         = @@DRP_GEN_REG;	
$genero_otro    = @@TXT_OTRO_GEN_REG;
$est_civil      = @@DRP_EST_CIVIL_REG;
$ocupacion      = @@DRP_OCU_REG;	
$estudios       = @@DRP_ESTU_REG;	
$estudios_otro  = @@TXT_OTROS_EST_REG;
$inst_edu       = @@TXT_INST_EDU_REG;
$contacto       = @@TXT_NOM_REF_REG;
$contacto_tel   = @@TXT_TEL_REF_REG;
$contacto_ocu   = @@TXT_OCU_REF_REG;
$email_ref		= @@TXT_EMAIL_REF_REG; 
$estado		    = 'SIN VALIDAR';	

  
if($estudios == 5){
$inst_edu == "";
$estudios_otro=="";
}
  
$query = "INSERT INTO PMT_BITACORA_USUARIOS_BIBLIOTECA (USERNAME_REG,NOMBRES_REG,APELLIDOS_REG,EMAIL_REG,PAIS_REG,DEPARTAMENTO_REG,CIUDAD_REG,DIRECCION_REG,TELEFONO_REG,CELULAR_REG,FECHA_NAC_REG,ID_TIPO_DOC_REG,USR_NUM_DOC_REG,GENERO_REG,EST_CIVIL_REG,OCUPACION_REG,NIVEL_ESTUDIO_REG,NIVEL_ESTUDIO_OTRO_REG,INST_EDUCATIVA_REG,CONTACTO_REG,CONTACTO_TEL_REG,CONTACTO_OCU_REG,ESTADO_REG,EMAIL_REF_REG) 
VALUES('$username','$nombre','$apellido','$email','$pais','$departamento','$ciudad','$direccion','$fijo','$celular','$fecha_nac','$tipo_doc','$doc','$genero','$est_civil','$ocupacion','$estudios','$estudios_otro','$inst_edu','$contacto','$contacto_tel','$contacto_ocu','$estado','$email_ref')";
$res = executeQuery($query);
  
  
  ";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:19:"TGG_GRABAR_BITACORA";s:15:"TRI_DESCRIPTION";s:82:"Este tigre guarda el registro completo en la bitacora de usuarios de la biblioteca";}i:10;a:7:{s:7:"TRI_UID";s:32:"950292583554809a2259533066983781";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:563:"$opcion = @@DRP_SEL;
$doc 	= @@TXT_NUM_DOC;

$query = "SELECT EMAIL_REG FROM PMT_BITACORA_USUARIOS_BIBLIOTECA WHERE USR_NUM_DOC_REG = '$doc'";
$res = executeQuery($query);
$email = $res[1]['EMAIL_REG'];


if($opcion == 1){
	PMFSendMessage (@@APPLICATION,'lennin@parquesoftpasto.com',$email,' ',' ','Nuevo estado en biblioteca - CEDT Pasto','NotActSus.html',array(),array(),true,0);
}

if($opcion == 2){
	PMFSendMessage (@@APPLICATION,'lennin@parquesoftpasto.com',$email,' ',' ','Nuevo estado en biblioteca - CEDT Pasto','NotActHab.html',array(),array(),true,0);
}";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:15:"TGG_NOT_ACT_USU";s:15:"TRI_DESCRIPTION";s:64:"Envía notificación de nuevo estado en la biblioteca al usuario";}i:11;a:7:{s:7:"TRI_UID";s:32:"9631916195544f98957fc37065148057";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:8:"TRI_TYPE";s:6:"SCRIPT";s:10:"TRI_WEBBOT";s:193:"PMFSendMessage (@@APPLICATION,'lennin@parquesoftpasto.com',@@TXT_EMAIL_REG,' ',' ','Notificación de rechazo de solicitud Biblioteca CEDT-Pasto','notRECHAZOcuenta.html',array(),array(),true,0);";s:9:"TRI_PARAM";s:0:"";s:9:"TRI_TITLE";s:26:"TGG_NOT_RECHAZO_CUENTA_CIU";s:15:"TRI_DESCRIPTION";s:78:"NOTIFICA EL RECHAZO A LA SOLICITUD DE LA CREACION DE CUENTA PARA LA BIBLIOTECA";}}s:9:"taskusers";a:0:{}s:8:"groupwfs";a:0:{}s:12:"steptriggers";a:11:{i:0;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"227243747551c67b23922d3025614937";s:7:"TRI_UID";s:32:"6968169955530543c8202a7059918965";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}i:1;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"3385949275579e08ae49035054550037";s:7:"TRI_UID";s:32:"25243963255786ccb5b8423066813948";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}i:2;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"937065297551c67c1411fe6087660239";s:7:"TRI_UID";s:32:"12541099555310ae742b6e2097277299";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"3";}i:3;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"937065297551c67c1411fe6087660239";s:7:"TRI_UID";s:32:"1412047435544fa2d787d34025526066";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:30:"@@DRP_ESTADO_VALIDACION_REG==1";s:11:"ST_POSITION";s:1:"4";}i:4;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"937065297551c67c1411fe6087660239";s:7:"TRI_UID";s:32:"2168137545529880d715502060522928";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:30:"@@DRP_ESTADO_VALIDACION_REG==1";s:11:"ST_POSITION";s:1:"2";}i:5;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"937065297551c67c1411fe6087660239";s:7:"TRI_UID";s:32:"2397195155523f62d215e00068142778";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:30:"@@DRP_ESTADO_VALIDACION_REG==1";s:11:"ST_POSITION";s:1:"1";}i:6;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"937065297551c67c1411fe6087660239";s:7:"TRI_UID";s:32:"9631916195544f98957fc37065148057";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:30:"@@DRP_ESTADO_VALIDACION_REG==2";s:11:"ST_POSITION";s:1:"5";}i:7;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"9736325955547fea290e902087347340";s:7:"TRI_UID";s:32:"516895766554806e8779067028771987";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}i:8;a:6:{s:8:"STEP_UID";s:2:"-2";s:7:"TAS_UID";s:32:"9736325955547fea290e902087347340";s:7:"TRI_UID";s:32:"950292583554809a2259533066983781";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"2";}i:9;a:6:{s:8:"STEP_UID";s:32:"900862611551c6be9ca3525010836123";s:7:"TAS_UID";s:32:"227243747551c67b23922d3025614937";s:7:"TRI_UID";s:32:"586903613557225e4c89849022240617";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}i:10;a:6:{s:8:"STEP_UID";s:32:"9722426065579e1227ef365006411106";s:7:"TAS_UID";s:32:"3385949275579e08ae49035054550037";s:7:"TRI_UID";s:32:"43767738155785c51386370021235953";s:7:"ST_TYPE";s:5:"AFTER";s:12:"ST_CONDITION";s:0:"";s:11:"ST_POSITION";s:1:"1";}}s:13:"dbconnections";a:0:{}s:12:"reportTables";a:0:{}s:16:"reportTablesVars";a:0:{}s:14:"stepSupervisor";a:0:{}s:17:"objectPermissions";a:0:{}s:10:"subProcess";a:0:{}s:11:"caseTracker";a:0:{}s:17:"caseTrackerObject";a:0:{}s:5:"stage";a:0:{}s:14:"fieldCondition";a:30:{i:0;a:8:{s:7:"FCD_UID";s:32:"1389281695579e2502c8845075112371";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:31:"DRP_DEP_NAC_REG,DRP_CIU_NAC_REG";s:13:"FCD_CONDITION";s:20:"@#DRP_PAIS_REG!='CO'";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_PAIS_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:1;a:8:{s:7:"FCD_UID";s:32:"1540958125579e250276283066601275";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:13:"TXT_DOCUMENTO";s:13:"FCD_CONDITION";s:21:"@#TXT_NUM_DOC_REG==""";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:15:"TXT_NUM_DOC_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:2;a:8:{s:7:"FCD_UID";s:32:"2051667915522fbd84a5ea7012579528";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:17:"TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:38:"@#DRP_ESTU_REG!=5 && @#DRP_ESTU_REG!=6";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"4151086425522fbd84485a7095164098";}i:3;a:8:{s:7:"FCD_UID";s:32:"2194154005522fa46e13626092470588";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:17:"TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:17:"@#DRP_ESTU_REG==6";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:4;a:8:{s:7:"FCD_UID";s:32:"2437827045547c81edef548063369744";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:13:"TXT_DOCUMENTO";s:13:"FCD_CONDITION";s:21:"@#TXT_NUM_DOC_REG!=""";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:15:"TXT_NUM_DOC_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:5;a:8:{s:7:"FCD_UID";s:32:"2665973755579e250281037028611701";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:31:"DRP_DEP_NAC_REG,DRP_CIU_NAC_REG";s:13:"FCD_CONDITION";s:20:"@#DRP_PAIS_REG=='CO'";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_PAIS_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:6;a:8:{s:7:"FCD_UID";s:32:"2968033965547c7e2cdfb34060652699";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:13:"TXT_DOCUMENTO";s:13:"FCD_CONDITION";s:21:"@#TXT_NUM_DOC_REG==""";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:15:"TXT_NUM_DOC_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:7;a:8:{s:7:"FCD_UID";s:32:"3252248295527d9a5e30120087543636";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:31:"DRP_DEP_NAC_REG,DRP_CIU_NAC_REG";s:13:"FCD_CONDITION";s:20:"@#DRP_PAIS_REG=='CO'";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_PAIS_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:8;a:8:{s:7:"FCD_UID";s:32:"3360127885579e25024ffc6086143045";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:17:"TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:17:"@#DRP_ESTU_REG==6";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:9;a:8:{s:7:"FCD_UID";s:32:"3656922615522faea581508080718251";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:17:"TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:38:"@#DRP_ESTU_REG!=5 && @#DRP_ESTU_REG!=6";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:10;a:8:{s:7:"FCD_UID";s:32:"4163884095522fbd8496058092959606";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:17:"TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:17:"@#DRP_ESTU_REG==6";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"4151086425522fbd84485a7095164098";}i:11;a:8:{s:7:"FCD_UID";s:32:"4892749605578572e6cd443037485547";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:7:"TXT_VAL";s:13:"FCD_CONDITION";s:51:"@#TXT_DOC_IDENTIDAD=="" ||@#TXT_DOC_IDENTIDAD != """;s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:17:"TXT_DOC_IDENTIDAD";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"8009374245578539d44f373083480071";}i:12;a:8:{s:7:"FCD_UID";s:32:"5225215045531801dbe0c39029849114";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:41:"SUB_CARGAR_DOC,UP_DOC_REG,UP_CONTRATO_REG";s:13:"FCD_CONDITION";s:30:"@#DRP_ESTADO_VALIDACION_REG==2";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:25:"DRP_ESTADO_VALIDACION_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"4151086425522fbd84485a7095164098";}i:13;a:8:{s:7:"FCD_UID";s:32:"53123266555230716dc4e88031150456";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:52:"SUB_CARGAR_DOC,BTN_ENVIAR,UP_DOC_REG,UP_CONTRATO_REG";s:13:"FCD_CONDITION";s:30:"@#DRP_ESTADO_VALIDACION_REG==1";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:25:"DRP_ESTADO_VALIDACION_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"4151086425522fbd84485a7095164098";}i:14;a:8:{s:7:"FCD_UID";s:32:"5732582665579e2502b2742047327246";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:34:"TXT_INST_EDU_REG,TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:17:"@#DRP_ESTU_REG==5";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:15;a:8:{s:7:"FCD_UID";s:32:"5751137305522fbd84b48e1043673610";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:34:"TXT_INST_EDU_REG,TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:17:"@#DRP_ESTU_REG==5";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"4151086425522fbd84485a7095164098";}i:16;a:8:{s:7:"FCD_UID";s:32:"5758890915547c91cd23642031945386";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:10:"TXT_CORREO";s:13:"FCD_CONDITION";s:19:"@#TXT_EMAIL_REG==""";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:13:"TXT_EMAIL_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:17;a:8:{s:7:"FCD_UID";s:32:"5783897295547c954979cf2061748434";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:10:"TXT_CORREO";s:13:"FCD_CONDITION";s:19:"@#TXT_EMAIL_REG!=""";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:13:"TXT_EMAIL_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:18;a:8:{s:7:"FCD_UID";s:32:"5845071835522fbd84d0f01039845540";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:16:"TXT_INST_EDU_REG";s:13:"FCD_CONDITION";s:18:"@#DRP_ESTU_REG!=5 ";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"4151086425522fbd84485a7095164098";}i:19;a:8:{s:7:"FCD_UID";s:32:"6609831055579e250266d75069320041";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:13:"TXT_DOCUMENTO";s:13:"FCD_CONDITION";s:21:"@#TXT_NUM_DOC_REG!=""";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:15:"TXT_NUM_DOC_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:20;a:8:{s:7:"FCD_UID";s:32:"6765427795522f9d2f40401079794810";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:34:"TXT_INST_EDU_REG,TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:17:"@#DRP_ESTU_REG==5";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:21;a:8:{s:7:"FCD_UID";s:32:"6845929185579e25028cb10062700234";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:17:"TXT_OTROS_EST_REG";s:13:"FCD_CONDITION";s:38:"@#DRP_ESTU_REG!=5 && @#DRP_ESTU_REG!=6";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:22;a:8:{s:7:"FCD_UID";s:32:"7892210405579e2502a2ca2080309172";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:10:"TXT_CORREO";s:13:"FCD_CONDITION";s:19:"@#TXT_EMAIL_REG!=""";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:13:"TXT_EMAIL_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:23;a:8:{s:7:"FCD_UID";s:32:"8455278105579e2502bd498010121448";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:16:"TXT_INST_EDU_REG";s:13:"FCD_CONDITION";s:18:"@#DRP_ESTU_REG!=5 ";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:24;a:8:{s:7:"FCD_UID";s:32:"86738682655318228afec11077278947";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:10:"BTN_ENVIAR";s:13:"FCD_CONDITION";s:30:"@#DRP_ESTADO_VALIDACION_REG==2";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:25:"DRP_ESTADO_VALIDACION_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"4151086425522fbd84485a7095164098";}i:25;a:8:{s:7:"FCD_UID";s:32:"8724315355522f8cd19a258005378456";s:12:"FCD_FUNCTION";s:4:"show";s:10:"FCD_FIELDS";s:16:"TXT_INST_EDU_REG";s:13:"FCD_CONDITION";s:18:"@#DRP_ESTU_REG!=5 ";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_ESTU_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}i:26;a:8:{s:7:"FCD_UID";s:32:"8902524845579e250299bd5087836173";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:10:"TXT_CORREO";s:13:"FCD_CONDITION";s:19:"@#TXT_EMAIL_REG==""";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:13:"TXT_EMAIL_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"7287635295579e2501e3192070306018";}i:27;a:8:{s:7:"FCD_UID";s:32:"8943823245579b0ed004228031763959";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:31:"DRP_DEP_NAC_REG,DRP_CIU_NAC_REG";s:13:"FCD_CONDITION";s:20:"@#DRP_PAIS_REG!="CO"";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_PAIS_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"43385393955783fff3bba81078420775";}i:28;a:8:{s:7:"FCD_UID";s:32:"917509622552306f5f26013007531276";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:52:"SUB_CARGAR_DOC,BTN_ENVIAR,UP_DOC_REG,UP_CONTRATO_REG";s:13:"FCD_CONDITION";s:30:"@#DRP_ESTADO_VALIDACION_REG==0";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:25:"DRP_ESTADO_VALIDACION_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"4151086425522fbd84485a7095164098";}i:29;a:8:{s:7:"FCD_UID";s:32:"9488396115527d9c8de0995099532137";s:12:"FCD_FUNCTION";s:4:"hide";s:10:"FCD_FIELDS";s:31:"DRP_DEP_NAC_REG,DRP_CIU_NAC_REG";s:13:"FCD_CONDITION";s:20:"@#DRP_PAIS_REG!='CO'";s:10:"FCD_EVENTS";s:15:"onload,onchange";s:16:"FCD_EVENT_OWNERS";s:12:"DRP_PAIS_REG";s:10:"FCD_STATUS";s:1:"1";s:11:"FCD_DYN_UID";s:32:"765113650551c69bd83f4e6041252320";}}s:5:"event";a:6:{i:0;a:21:{s:7:"EVN_UID";s:32:"12570799055bd33c25f7310008748969";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:10:"EVN_STATUS";s:6:"ACTIVE";s:15:"EVN_WHEN_OCCURS";s:6:"SINGLE";s:14:"EVN_RELATED_TO";s:8:"MULTIPLE";s:7:"TAS_UID";s:0:"";s:16:"EVN_TAS_UID_FROM";s:32:"3385949275579e08ae49035054550037";s:14:"EVN_TAS_UID_TO";s:0:"";s:26:"EVN_TAS_ESTIMATED_DURATION";d:0;s:13:"EVN_TIME_UNIT";s:4:"DAYS";s:8:"EVN_WHEN";d:1;s:16:"EVN_MAX_ATTEMPTS";i:3;s:10:"EVN_ACTION";s:0:"";s:14:"EVN_CONDITIONS";N;s:21:"EVN_ACTION_PARAMETERS";b:0;s:7:"TRI_UID";s:0:"";s:8:"EVN_POSX";i:1105;s:8:"EVN_POSY";i:310;s:8:"EVN_TYPE";s:17:"bpmnEventEmptyEnd";s:11:"TAS_EVN_UID";s:0:"";s:15:"EVN_DESCRIPTION";s:0:"";}i:1;a:21:{s:7:"EVN_UID";s:32:"15417050055bd33c252edb1091252695";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:10:"EVN_STATUS";s:6:"ACTIVE";s:15:"EVN_WHEN_OCCURS";s:6:"SINGLE";s:14:"EVN_RELATED_TO";s:8:"MULTIPLE";s:7:"TAS_UID";s:0:"";s:16:"EVN_TAS_UID_FROM";s:32:"937065297551c67c1411fe6087660239";s:14:"EVN_TAS_UID_TO";s:0:"";s:26:"EVN_TAS_ESTIMATED_DURATION";d:0;s:13:"EVN_TIME_UNIT";s:4:"DAYS";s:8:"EVN_WHEN";d:1;s:16:"EVN_MAX_ATTEMPTS";i:3;s:10:"EVN_ACTION";s:0:"";s:14:"EVN_CONDITIONS";N;s:21:"EVN_ACTION_PARAMETERS";b:0;s:7:"TRI_UID";s:0:"";s:8:"EVN_POSX";i:569;s:8:"EVN_POSY";i:318;s:8:"EVN_TYPE";s:17:"bpmnEventEmptyEnd";s:11:"TAS_EVN_UID";s:0:"";s:15:"EVN_DESCRIPTION";s:0:"";}i:2;a:21:{s:7:"EVN_UID";s:32:"19081921455c38b3297d142003949399";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:10:"EVN_STATUS";s:6:"ACTIVE";s:15:"EVN_WHEN_OCCURS";s:6:"SINGLE";s:14:"EVN_RELATED_TO";s:8:"MULTIPLE";s:7:"TAS_UID";s:0:"";s:16:"EVN_TAS_UID_FROM";s:32:"9736325955547fea290e902087347340";s:14:"EVN_TAS_UID_TO";s:0:"";s:26:"EVN_TAS_ESTIMATED_DURATION";d:0;s:13:"EVN_TIME_UNIT";s:4:"DAYS";s:8:"EVN_WHEN";d:1;s:16:"EVN_MAX_ATTEMPTS";i:3;s:10:"EVN_ACTION";s:0:"";s:14:"EVN_CONDITIONS";N;s:21:"EVN_ACTION_PARAMETERS";b:0;s:7:"TRI_UID";s:0:"";s:8:"EVN_POSX";i:867;s:8:"EVN_POSY";i:311;s:8:"EVN_TYPE";s:17:"bpmnEventEmptyEnd";s:11:"TAS_EVN_UID";s:0:"";s:15:"EVN_DESCRIPTION";s:0:"";}i:3;a:21:{s:7:"EVN_UID";s:32:"31684238655c38b32a82965049672074";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:10:"EVN_STATUS";s:6:"ACTIVE";s:15:"EVN_WHEN_OCCURS";s:6:"SINGLE";s:14:"EVN_RELATED_TO";s:8:"MULTIPLE";s:7:"TAS_UID";s:0:"";s:16:"EVN_TAS_UID_FROM";s:32:"3385949275579e08ae49035054550037";s:14:"EVN_TAS_UID_TO";s:0:"";s:26:"EVN_TAS_ESTIMATED_DURATION";d:0;s:13:"EVN_TIME_UNIT";s:4:"DAYS";s:8:"EVN_WHEN";d:1;s:16:"EVN_MAX_ATTEMPTS";i:3;s:10:"EVN_ACTION";s:0:"";s:14:"EVN_CONDITIONS";N;s:21:"EVN_ACTION_PARAMETERS";b:0;s:7:"TRI_UID";s:0:"";s:8:"EVN_POSX";i:1105;s:8:"EVN_POSY";i:310;s:8:"EVN_TYPE";s:17:"bpmnEventEmptyEnd";s:11:"TAS_EVN_UID";s:0:"";s:15:"EVN_DESCRIPTION";s:0:"";}i:4;a:21:{s:7:"EVN_UID";s:32:"53393947955bd33c2498154038462833";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:10:"EVN_STATUS";s:6:"ACTIVE";s:15:"EVN_WHEN_OCCURS";s:6:"SINGLE";s:14:"EVN_RELATED_TO";s:8:"MULTIPLE";s:7:"TAS_UID";s:0:"";s:16:"EVN_TAS_UID_FROM";s:32:"9736325955547fea290e902087347340";s:14:"EVN_TAS_UID_TO";s:0:"";s:26:"EVN_TAS_ESTIMATED_DURATION";d:0;s:13:"EVN_TIME_UNIT";s:4:"DAYS";s:8:"EVN_WHEN";d:1;s:16:"EVN_MAX_ATTEMPTS";i:3;s:10:"EVN_ACTION";s:0:"";s:14:"EVN_CONDITIONS";N;s:21:"EVN_ACTION_PARAMETERS";b:0;s:7:"TRI_UID";s:0:"";s:8:"EVN_POSX";i:867;s:8:"EVN_POSY";i:311;s:8:"EVN_TYPE";s:17:"bpmnEventEmptyEnd";s:11:"TAS_EVN_UID";s:0:"";s:15:"EVN_DESCRIPTION";s:0:"";}i:5;a:21:{s:7:"EVN_UID";s:32:"70430121855aae11f65b7c2082608536";s:7:"PRO_UID";s:32:"691966554551c676e641aa7085022788";s:10:"EVN_STATUS";s:6:"ACTIVE";s:15:"EVN_WHEN_OCCURS";s:6:"SINGLE";s:14:"EVN_RELATED_TO";s:8:"MULTIPLE";s:7:"TAS_UID";s:0:"";s:16:"EVN_TAS_UID_FROM";s:32:"937065297551c67c1411fe6087660239";s:14:"EVN_TAS_UID_TO";s:0:"";s:26:"EVN_TAS_ESTIMATED_DURATION";d:0;s:13:"EVN_TIME_UNIT";s:4:"DAYS";s:8:"EVN_WHEN";d:1;s:16:"EVN_MAX_ATTEMPTS";i:3;s:10:"EVN_ACTION";s:0:"";s:14:"EVN_CONDITIONS";N;s:21:"EVN_ACTION_PARAMETERS";b:0;s:7:"TRI_UID";s:0:"";s:8:"EVN_POSX";i:569;s:8:"EVN_POSY";i:318;s:8:"EVN_TYPE";s:17:"bpmnEventEmptyEnd";s:11:"TAS_EVN_UID";s:0:"";s:15:"EVN_DESCRIPTION";s:0:"";}}s:13:"caseScheduler";a:0:{}s:15:"processCategory";a:4:{s:12:"CATEGORY_UID";s:32:"496403377551c6647f07f31066863915";s:15:"CATEGORY_PARENT";s:1:"0";s:13:"CATEGORY_NAME";s:20:"Biblioteca CEDTPasto";s:13:"CATEGORY_ICON";s:0:"";}s:19:"taskExtraProperties";a:1:{i:0;a:6:{s:7:"CFG_UID";s:20:"TAS_EXTRA_PROPERTIES";s:7:"OBJ_UID";s:32:"227243747551c67b23922d3025614937";s:9:"CFG_VALUE";s:103:"a:2:{s:20:"TAS_DEF_MESSAGE_TYPE";s:8:"template";s:24:"TAS_DEF_MESSAGE_TEMPLATE";s:14:"notNEWsol.html";}";s:7:"PRO_UID";s:0:"";s:7:"USR_UID";s:0:"";s:7:"APP_UID";s:0:"";}}s:11:"processUser";a:0:{}s:16:"processVariables";a:0:{}}0000000322619773225547ffef58efc6073888541000003527<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="691966554551c676e641aa7085022788/2619773225547ffef58efc6073888541" enabletemplate="0" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <TIT_PRINCIPAL type="title" required="0" readonly="0" optgroup="0">
    <en>FORMULARIO DE ACTUALIZACIÓN DE ESTADO DE USUARIOS DE BIBLIOTECA CEDTPASTO</en>
  </TIT_PRINCIPAL>
  <SUB_DATOS type="subtitle" required="0" readonly="0" optgroup="0">
    <en>INFORMACIÓN BÁSICA DEL USUARIO</en>
  </SUB_DATOS>
  <TXT_NUM_DOC type="text" maxlength="30" validate="Any" required="0" readonly="0" dependentfields="TXT_TIPO_DOC,TXT_NOM_APE,TXT_ESTADO_REG,TXT_CANTIDAD" size="30" mode="edit" optgroup="0">
    <es>NUMERO DE DOCUMENTO</es>
    <en>NUMERO DE DOCUMENTO</en>
  </TXT_NUM_DOC>
  <TXT_TIPO_DOC type="text" maxlength="50" validate="Any" required="0" readonly="1" size="50" mode="edit" optgroup="0">SELECT B.DES_TIPO_DOC FROM PMT_BITACORA_USUARIOS_BIBLIOTECA A, PMT_TIPO_DOC B WHERE A. ID_TIPO_DOC_REG= B.ID_TIPO_DOC AND A.USR_NUM_DOC_REG= @@TXT_NUM_DOC <en>TIPO DE DOCUMENTO</en><es>TIPO DE DOCUMENTO</es></TXT_TIPO_DOC>
  <TXT_NOM_APE type="text" maxlength="100" validate="Any" required="0" readonly="1" size="50" mode="edit" optgroup="0"><![CDATA[SELECT CONCAT(NOMBRES_REG,' ',APELLIDOS_REG) FROM PMT_BITACORA_USUARIOS_BIBLIOTECA WHERE USR_NUM_DOC_REG  = @@TXT_NUM_DOC 
    
    ]]><es>NOMBRES Y APELLIDOS</es></TXT_NOM_APE>
  <TXT_ESTADO_REG type="text" maxlength="50" validate="Any" required="0" readonly="1" size="50" mode="edit" optgroup="0">SELECT ESTADO_REG FROM PMT_BITACORA_USUARIOS_BIBLIOTECA WHERE `USR_NUM_DOC_REG` =  @@TXT_NUM_DOC 
    <es>ESTADO DE LA PERSONA</es></TXT_ESTADO_REG>
  <SUB_OPCION type="subtitle" required="0" readonly="0" optgroup="0">
    <en>SELECCIONE LA ACCIÓN A REALIZAR</en>
  </SUB_OPCION>
  <DRP_SEL type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <en>SELECCIONE LA ACCIÓN
      <option name="0">--SELECCIONAR--</option>
      <option name="1">SUSPENDER</option>
      <option name="2">HABILITAR</option></en>
  </DRP_SEL>
  <TXT_NOTA type="textarea" required="0" readonly="0" rows="10" cols="100" mode="edit" optgroup="0">
    <en>DESCRIPCIÓN</en>
  </TXT_NOTA>
  <BTN_ENVIAR type="submit" required="0" readonly="0" optgroup="0">
    <en>ACTUALIZAR</en>
  </BTN_ENVIAR>
  <ocultarFlechas type="javascript" meta=""><![CDATA[function ocultarFlechas(){
  hidden(getField("DYN_BACKWARD").parentNode);
  hidden(getField("DYN_FORWARD").parentNode);
}
ocultarFlechas();]]></ocultarFlechas>
  <validarOpcion type="javascript" meta=""><![CDATA[getField("BTN_ENVIAR").form.onsubmit = function(){

  var estado  = getField("TXT_ESTADO_REG").value;
  var opcion  = getField("DRP_SEL").selectedIndex;
  var usuario = getField("TXT_NUM_DOC").value;
  var nota    = getField("TXT_NOTA").value;
  
  if(usuario == ""){
    alert("Ingrese un usuario.");
    return false;
  }
  
  if(opcion == 0){
    alert("Seleccione una opción a realizar.");
    return false;
  }
  
  if(estado == "SUSPENDIDO" && opcion == 1){
    alert("El usuario ya se encuentra suspendido.");
    return false;
  }
  
  if(estado == "VALIDADO" && opcion == 2){
    alert("El usuario ya se encuentra habilitado.");
    return false;
  }
  
  if(nota.length > 300){
    alert("El texto de descripción debe tener máximo 300 caracteres. El texto ingresado tiene "+nota.length+" caracteres.");
    return false;
  }
  
  return true;
}]]></validarOpcion>
</dynaForm>0000000324151086425522fbd84485a7095164098000009203<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="691966554551c676e641aa7085022788/4151086425522fbd84485a7095164098" enabletemplate="0" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <TIT_PRIN type="title" required="0" readonly="0" optgroup="0">
    <es>FORMULARIO DE REGISTRO BIBLIOTECA CARLOS CESAR PUYANA</es>
  </TIT_PRIN>
  <SUB_INF_PER type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[INFORMACIÓN SUMINISTRADA POR EL CIUDADANO]]></es>
  </SUB_INF_PER>
  <TXT_NOM_REG type="text" maxlength="50" validate="Any" required="0" readonly="0" size="50" mode="view" optgroup="0">
    <es>NOMBRES</es>
  </TXT_NOM_REG>
  <TXT_APE_REG type="text" maxlength="50" validate="Any" required="0" readonly="0" size="50" mode="view" optgroup="0">
    <es>APELLIDOS</es>
  </TXT_APE_REG>
  <DRP_TIPO_DOC_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="view">select * from PMT_TIPO_DOC<es>TIPO DE DOCUMENTO      
      <option name="0">--SELECCIONAR--</option></es></DRP_TIPO_DOC_REG>
  <TXT_NUM_DOC_REG type="text" maxlength="20" validate="Any" required="0" readonly="0" size="20" mode="view" optgroup="0">
    <es>NUMERO DE DOCUMENTO</es>
  </TXT_NUM_DOC_REG>
  <DATE_FECHA_NAC_REG type="date" relativedate="1" beforedate="-100Y" afterdate="0d" mask="%Y-%m-%d" editable="0" required="0" readonly="0" defaultvalue_sel="empty" size="15" mode="view" optgroup="0">
    <es>FECHA DE NACIMIENTO</es>
  </DATE_FECHA_NAC_REG>
  <DRP_PAIS_REG type="dropdown" required="0" readonly="0" optgroup="0" dependentfields="DRP_DEP_NAC_REG" mode="view">select Code, Name from country ORDER BY Name
    <es>PAIS DE NACIMIENTO                        
      <option name="0">--SELECCIONAR--</option></es></DRP_PAIS_REG>
  <DRP_DEP_NAC_REG type="dropdown" required="0" readonly="0" optgroup="0" dependentfields="DRP_CIU_NAC_REG" mode="view">SELECT cod_dan,des_dep FROM departamentos ORDER BY des_dep<es>DEPARTAMENTO DE NACIMIENTO      
      <option name="0">--SELECCIONAR--</option></es></DRP_DEP_NAC_REG>
  <DRP_CIU_NAC_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="view">SELECT * FROM ciudades WHERE cod_dan_dep = @@DRP_DEP_NAC_REG<es>CIUDAD DE NACIMIENTO            
      <option name="0">--SELECCIONAR--</option></es></DRP_CIU_NAC_REG>
  <DRP_GEN_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="view">
    <es>SEXO   
      <option name="0">--SELECCIONAR--</option>
      <option name="1">MASCULINO</option>
      <option name="2">FEMENINO</option></es>
  </DRP_GEN_REG>
  <DRP_EST_CIVIL_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="view">
    <es>ESTADO CIVIL
      <option name="0">--SELECCIONE--</option>
      <option name="1">SOLTERO</option>
      <option name="2">CASADO</option>
      <option name="3">VIUDO</option>
      <option name="4">DIVORCIADO</option>
      <option name="5">OTRO</option></es>
  </DRP_EST_CIVIL_REG>
  <DRP_OCU_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="view">
    <es><![CDATA[OCUPACIÓN 
      ]]><option name="0">--SELECCIONAR--</option><option name="1">ESTUDIANTE</option><option name="2">TRABAJADOR</option><option name="3">DESEMPLEADO</option><option name="4">OTRO</option></es>
  </DRP_OCU_REG>
  <DRP_ESTU_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="view">
    <es>NIVEL DE ESTUDIOS      
      <option name="0">--SELECCIONAR--</option>
      <option name="1">PRESCOLAR</option>
      <option name="2">PRIMARIA</option>
      <option name="3">BACHILLERATO</option>
      <option name="4">UNIVERSITARIOS</option>
      <option name="5">NINGUNO</option>
      <option name="6">OTROS</option></es>
  </DRP_ESTU_REG>
  <TXT_OTROS_EST_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="view" optgroup="0">
    <es>CUALES?</es>
  </TXT_OTROS_EST_REG>
  <TXT_INST_EDU_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="view" optgroup="0">
    <es><![CDATA[INSTITUCIÓN EDUCATIVA]]></es>
  </TXT_INST_EDU_REG>
  <SUB_INF_CONTACTO type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[INFORMACIÓN DE CONTACTO]]></es>
  </SUB_INF_CONTACTO>
  <TXT_EMAIL_REG type="text" maxlength="100" validate="Email" required="0" readonly="0" size="50" mode="view" optgroup="0">
    <es>CORREO ELECTRONICO</es>
  </TXT_EMAIL_REG>
  <TXT_DIR_REG type="textarea" required="0" readonly="0" rows="3" cols="50" mode="view" optgroup="0">
    <es><![CDATA[DIRECCIÓN DE SU VIVIENDA]]></es>
  </TXT_DIR_REG>
  <TXT_CEL_REG type="text" maxlength="15" validate="Any" required="0" readonly="0" size="15" mode="view" optgroup="0">
    <es>NUMERO DE CELULAR</es>
  </TXT_CEL_REG>
  <TEL_FIJO_REG type="text" maxlength="12" validate="Any" required="0" readonly="0" size="12" mode="view" optgroup="0">
    <es>TELEFONO FIJO</es>
  </TEL_FIJO_REG>
  <SUB_REF_PERSONAL_REG type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[INFORMACIÓN DE LA REFERENCIA PERSONAL]]></es>
  </SUB_REF_PERSONAL_REG>
  <TXT_NOM_REF_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>NOMBRES Y APELLIDOS DE SU REFERENCIA PERSONAL</es>
  </TXT_NOM_REF_REG>
  <TXT_TEL_REF_REG type="text" maxlength="20" validate="Any" required="0" readonly="0" size="20" mode="edit" optgroup="0">
    <es>NUMERO DE TELEFONO FIJO O CELULAR</es>
  </TXT_TEL_REF_REG>
  <TXT_EMAIL_REF_REG type="text" maxlength="100" validate="Email" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>EMAIL DE SU REFERENCIA PERSONAL</es>
  </TXT_EMAIL_REF_REG>
  <TXT_OCU_REF_REG type="textarea" required="0" readonly="0" rows="3" cols="50" mode="edit" optgroup="0">
    <es><![CDATA[OCUPACIÓN/LUGAR DE TRABAJO]]></es>
  </TXT_OCU_REF_REG>
  <DRP_ESTADO_VALIDACION_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es><![CDATA[INFORMACIÓN VALIDADA?            
      ]]><option name="0">SIN VALIDAR</option><option name="1">VALIDADO</option><option name="2">RECHAZADO</option></es>
  </DRP_ESTADO_VALIDACION_REG>
  <TXT_NOTA_VAL_REG type="textarea" required="0" readonly="0" rows="4" cols="50" mode="edit" optgroup="0">
    <es><![CDATA[NOTA DE VALIDACIÓN]]></es>
  </TXT_NOTA_VAL_REG>
  <validar_formulario type="javascript" meta=""><![CDATA[getField("BTN_ENVIAR").form.onsubmit = function(){
  
  var nota       = getField("TXT_NOTA_VAL_REG").value;
  var nomref       = getField("TXT_NOM_REF_REG").value;
  var telref       = getField("TXT_TEL_REF_REG").value;
  var emailref       = getField("TXT_EMAIL_REF_REG").value;
  var ocuref       = getField("TXT_OCU_REF_REG").value;
  var simbolos_text = /^([áéíúóñÑa-zA-Z0-9\.\-\#\(\)\¿\?\+\-\=\;\,\:\@\!\¡\*\/\%\$\s])/;
  var simbolos_alfanumerico = /^([áéíúóñÑa-zA-Z0-9])/;
  var simbolos_alfabetico = /^([áéíúóñÑa-zA-Z\s]+)$/;
  var simbolos_direccion = /^([áéíúóñÑa-zA-Z\.\-\#\s])/;  
   var expr = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  
  
  if(nomref==""){
  alert("Por favor ingrese el nombre de la referencia personal");
    return false;
  }
  
  if(nomref.length > 50 || !simbolos_alfabetico.test(nomref)){
  
  alert("El nombre de la referencia personal solo puede contener letras y máximo 50 caracteres");
    return false;
  }
  
  if(telref==""){
   alert("Por favor ingrese el teléfono de la referencia personal");
    return false;
  }
  
 
  if(telref.length > 20){
  alert("El teléfono debe contener máximo 20 dígitos.");
    return false;
  }
  if(isNaN(telref)){
  alert("El teléfono debe contener solo números.");
    return false;
  }
  
  if(emailref==""){
  alert("por favor, ingrese el email de la persona que sera su referencia personal.");
    return false;
  
  }
  
  if(emailref.length > 100 || !expr.test(emailref)){
   alert("El correo electrónico debe tener el formato: email@email.com, máximo 100 caracteres.");
    return false;
  }
   
  
   if(ocuref.length == 0 || ocuref.length > 50 || !simbolos_text.test(ocuref)){
    alert("Por favor, ingrese la ocupación de la persona de contacto. Puede contener letras y números, máximo 50 caracteres.");
    return false;
  }

  if(nota.length > 250 || !simbolos_text.test(nota)){
    alert("La nota de validación debe tener máximo 250 caracteres. Puede contener solo letras, números y los siguientes simbolos: (.), (¿), (%), (*), (-), (+), (\), (/), (#), (-), (?), (¡), (!), (=), (,), (;), (:), (@).")
    return false;
  }

  return true;
}]]></validar_formulario>
  <SUB_CARGAR_DOC type="subtitle" required="0" readonly="0" optgroup="0">
    <es>CARGAR DOCUMENTOS DEL SOLICITANTE</es>
  </SUB_CARGAR_DOC>
  <UP_DOC_REG type="file" input="61903007255317d2ecdbfa5020312130" required="0" readonly="0" optgroup="0">
    <es>DOCUMENTO DEL SOLICITANTE</es>
  </UP_DOC_REG>
  <UP_CONTRATO_REG type="file" input="61903007255317d2ecdbfa5020312130" required="0" readonly="0" optgroup="0">
    <es>CONTRATO DEL SOLICITANTE</es>
  </UP_CONTRATO_REG>
  <BTN_ENVIAR type="submit" required="0" readonly="0" optgroup="0">
    <es>ENVIAR</es>
  </BTN_ENVIAR>
</dynaForm>
0000000324151086425522fbd84485a7095164098000006697<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<form id="{$form_id}" class="formDefault" style="margin:0px;" action="{$form_action}" method="post" name="{$form_name}" enctype="multipart/form-data" onsubmit="return validateForm('{$form_objectRequiredFields}');">
<div class="borderForm" style="width:{$form_width}; padding-left:0; padding-right:0; border-width:{$form_border};">
<div class="boxTop">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
<div class="content" style="height:{$form_height};">
<table class="mceItemTable" style="width: 99%;">
<tbody>
<tr>
<td valign="top"><input id="__notValidateThisFields__" class="notValidateThisFields" type="hidden" name="__notValidateThisFields__" value="{$form_objectRequiredFields}" /> <input id="DynaformRequiredFields" type="hidden" name="DynaformRequiredFields" value="{$form_objectRequiredFields}" /> <input id="__DynaformName__" type="hidden" name="__DynaformName__" value="{$form_name}" />
<table class="mceItemTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="withoutLabel" style="height:auto;" colspan="2">{$form.__DYNAFORM_OPTIONS}</td>
</tr>
<tr>
<td class="FormTitle" colspan="2" align="">{$form.TIT_PRIN}</td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_INF_PER}</span></td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_NOM_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_NOM_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_APE_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_APE_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_TIPO_DOC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_TIPO_DOC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_NUM_DOC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_NUM_DOC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DATE_FECHA_NAC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DATE_FECHA_NAC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_PAIS_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_PAIS_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_DEP_NAC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_DEP_NAC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_CIU_NAC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_CIU_NAC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_GEN_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_GEN_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_EST_CIVIL_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_EST_CIVIL_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_OCU_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_OCU_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_ESTU_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_ESTU_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_OTROS_EST_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_OTROS_EST_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_INST_EDU_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_INST_EDU_REG}</td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_INF_CONTACTO}</span></td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_EMAIL_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_EMAIL_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_DIR_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_DIR_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_CEL_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_CEL_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TEL_FIJO_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TEL_FIJO_REG}</td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_REF_PERSONAL_REG}</span></td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_NOM_REF_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_NOM_REF_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_TEL_REF_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_TEL_REF_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_EMAIL_REF_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_EMAIL_REF_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_OCU_REF_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_OCU_REF_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_ESTADO_VALIDACION_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_ESTADO_VALIDACION_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_NOTA_VAL_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_NOTA_VAL_REG}</td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_CARGAR_DOC}</span></td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$UP_DOC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.UP_DOC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$UP_CONTRATO_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.UP_CONTRATO_REG}</td>
</tr>
<tr>
<td class="FormButton" colspan="2" align="">{$form.BTN_ENVIAR}</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="boxBottom">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
</div>
<script type="text/javascript">// <![CDATA[
             {$form.validar_formulario}
           
// ]]></script>
</form>
</body>
</html>00000003243385393955783fff3bba81078420775000000210<?xml version="1.0" encoding="UTF-8"?>
<dynaForm type="xmlform" name="691966554551c676e641aa7085022788/43385393955783fff3bba81078420775" width="500" enabletemplate="0" mode="" nextstepsave="prompt">
</dynaForm>00000003243385393955783fff3bba81078420775000006184<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<form id="{$form_id}" class="formDefault" style="margin:0px;" action="{$form_action}" method="post" name="{$form_name}" enctype="multipart/form-data" onsubmit="return validateForm('{$form_objectRequiredFields}');">
<div class="borderForm" style="width:{$form_width}; padding-left:0; padding-right:0; border-width:{$form_border};">
<div class="boxTop">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
<div class="content" style="height:{$form_height};">
<table class="mceItemTable" style="width: 99%;">
<tbody>
<tr>
<td valign="top"><input id="__notValidateThisFields__" class="notValidateThisFields" type="hidden" name="__notValidateThisFields__" value="{$form_objectRequiredFields}" /> <input id="DynaformRequiredFields" type="hidden" name="DynaformRequiredFields" value="{$form_objectRequiredFields}" /> <input id="__DynaformName__" type="hidden" name="__DynaformName__" value="{$form_name}" />
<table class="mceItemTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td class="withoutLabel" style="height:auto;" colspan="2">{$form.__DYNAFORM_OPTIONS}</td>
</tr>
<tr>
<td class="FormTitle" colspan="2" align="">{$form.TIT_PRIN}</td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_INF_PER}</span></td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_NUM_DOC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_NUM_DOC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_NOM_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_NOM_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_APE_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_APE_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DATE_FECHA_NAC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DATE_FECHA_NAC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_PAIS_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_PAIS_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_DEP_NAC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_DEP_NAC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_CIU_NAC_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_CIU_NAC_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_DIR_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_DIR_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_GEN_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_GEN_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_EST_CIVIL_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_EST_CIVIL_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_OCU_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_OCU_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$DRP_ESTU_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.DRP_ESTU_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_OTROS_EST_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_OTROS_EST_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_INST_EDU_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_INST_EDU_REG}</td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_INF_CONTACTO}</span></td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_MENSAJE_EMAIL}</span></td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_EMAIL_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_EMAIL_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_CORREOV}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_CORREOV}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_CEL_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_CEL_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TEL_FIJO_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TEL_FIJO_REG}</td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_REF_PERSONAL_REG}</span></td>
</tr>
<tr>
<td class="FormSubTitle" colspan="2" align=""><span>{$form.SUB_REF_PER_NINOS}</span></td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_NOM_REF_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_NOM_REF_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_TEL_REF_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_TEL_REF_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_EMAIL_REF_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_EMAIL_REF_REG}</td>
</tr>
<tr>
<td class="FormLabel" width="{$form_labelWidth}">{$TXT_OCU_REF_REG}</td>
<td class="FormFieldContent" width="{$form_fieldContentWidth}">{$form.TXT_OCU_REF_REG}</td>
</tr>
<tr>
<td class="FormButton" colspan="2" align="">{$form.BTN_ENVIAR}</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="boxBottom">
<div class="a">&nbsp;</div>
<div class="b">&nbsp;</div>
<div class="c">&nbsp;</div>
</div>
</div>
<script type="text/javascript">// <![CDATA[
             {$form.ocultar_flechas}
           
// ]]></script>
<script type="text/javascript">// <![CDATA[
             {$form.validar_formulario}
           
// ]]></script>
</form>
</body>
</html>00000003246879902955317a101cb729080830249000000730<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="691966554551c676e641aa7085022788/46879902955317a101cb729080830249" enabletemplate="0" type="grid" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  
  <DRP_DES_DOC type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es><![CDATA[DESCRIPCIÓN DEL DOCUMENTO
      ]]><option name="0">DOCUMENTO DE IDENTIDAD</option>
      <option name="1">FORMATO DE REGISTRO</option>
      <option name="2">CONTRATO</option>
      <option name="3">OTRO</option></es>
  </DRP_DES_DOC>
  <UP_DOC_REG type="file" input="61903007255317d2ecdbfa5020312130" required="1" readonly="0" optgroup="0">
    <es>DOCUMENTO</es>
  </UP_DOC_REG>
</dynaForm>0000000327287635295579e2501e3192070306018000012937<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="691966554551c676e641aa7085022788/7287635295579e2501e3192070306018" enabletemplate="0" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <TIT_PRIN type="title" required="0" readonly="0" optgroup="0">
    <es>FORMULARIO DE REGISTRO BIBLIOTECA CARLOS CESAR PUYANA</es>
  </TIT_PRIN>
  <SUB_INF_PER type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[DILIGENCIE SU INFORMACIÓN PERSONAL DE FORMA CORRECTA]]></es>
  </SUB_INF_PER>
  <TXT_NUM_DOC_REG type="text" maxlength="20" validate="Any" required="0" readonly="0" dependentfields="TXT_DOCUMENTO" size="20" mode="edit" optgroup="0">
    <en>NUMERO DE DOCUMENTO</en>
    <es>NUMERO DE DOCUMENTO</es>
  </TXT_NUM_DOC_REG>
  <TXT_NOM_REG type="text" maxlength="50" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>NOMBRES</es>
  </TXT_NOM_REG>
  <TXT_APE_REG type="text" maxlength="50" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>APELLIDOS</es>
  </TXT_APE_REG>
  <DATE_FECHA_NAC_REG type="date" relativedate="1" beforedate="-100Y" afterdate="0d" mask="%Y-%m-%d" editable="0" required="0" readonly="0" defaultvalue_sel="empty" size="15" mode="edit" optgroup="0">
    <es>FECHA DE NACIMIENTO</es>
  </DATE_FECHA_NAC_REG>
  <DRP_PAIS_REG type="dropdown" required="0" readonly="0" optgroup="0" dependentfields="DRP_DEP_NAC_REG" mode="edit">select Code,Name from country ORDER BY Name
    <es>PAIS DE NACIMIENTO                                    
      <option name="0">--SELECCIONAR--</option></es></DRP_PAIS_REG>
  <DRP_DEP_NAC_REG type="dropdown" required="0" readonly="0" optgroup="0" dependentfields="DRP_CIU_NAC_REG" mode="edit">SELECT cod_dan,des_dep FROM departamentos ORDER BY des_dep<es>DEPARTAMENTO DE NACIMIENTO      
      <option name="0">--SELECCIONAR--</option></es></DRP_DEP_NAC_REG>
  <DRP_CIU_NAC_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">SELECT * FROM ciudades WHERE cod_dan_dep = @@DRP_DEP_NAC_REG<es>CIUDAD DE NACIMIENTO            
      <option name="0">--SELECCIONAR--</option></es></DRP_CIU_NAC_REG>
  <TXT_DIR_REG type="textarea" required="0" readonly="0" rows="3" cols="50" mode="edit" optgroup="0">
    <es><![CDATA[DIRECCIÓN DE SU VIVIENDA]]></es>
  </TXT_DIR_REG>
  <DRP_GEN_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es>SEXO      
      <option name="0">--SELECCIONAR--</option>
      <option name="1">MASCULINO</option>
      <option name="2">FEMENINO</option></es>
  </DRP_GEN_REG>
  <DRP_EST_CIVIL_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es>ESTADO CIVIL
      <option name="0">--SELECCIONE--</option>
      <option name="1">SOLTERO</option>
      <option name="2">CASADO</option>
      <option name="3">VIUDO</option>
      <option name="4">DIVORCIADO</option>
      <option name="5">OTRO</option></es>
  </DRP_EST_CIVIL_REG>
  <DRP_OCU_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es><![CDATA[OCUPACIÓN 
      ]]><option name="0">--SELECCIONAR--</option><option name="1">ESTUDIANTE</option><option name="2">TRABAJADOR</option><option name="3">DESEMPLEADO</option><option name="4">OTRO</option></es>
  </DRP_OCU_REG>
  <DRP_ESTU_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es>NIVEL DE ESTUDIOS      
      <option name="0">--SELECCIONAR--</option>
      <option name="1">PRESCOLAR</option>
      <option name="2">PRIMARIA</option>
      <option name="3">BACHILLERATO</option>
      <option name="4">UNIVERSITARIOS</option>
      <option name="5">NINGUNO</option>
      <option name="6">OTROS</option></es>
  </DRP_ESTU_REG>
  <TXT_OTROS_EST_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>CUALES?</es>
  </TXT_OTROS_EST_REG>
  <TXT_INST_EDU_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es><![CDATA[INSTITUCIÓN EDUCATIVA]]></es>
  </TXT_INST_EDU_REG>
  <SUB_INF_CONTACTO type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[INFORMACIÓN DE CONTACTO]]></es>
  </SUB_INF_CONTACTO>
  <SUB_MENSAJE_EMAIL type="subtitle" required="0" readonly="0" optgroup="0">
    <en>POR FAVOR INGRESE UN CORREO ELECTRONICO VALIDO Y DE SU PROPIEDAD, PUESTO QUE ESTE MISMO SERA SU NOMBRE DE USUARIO PARA ACCEDER A LA PLATAFORMA Y AL CUAL SE ENVIARAN TODAS LAS NOTIFICACIONES.</en>
  </SUB_MENSAJE_EMAIL>
  <TXT_EMAIL_REG type="text" maxlength="100" validate="Email" required="0" readonly="0" dependentfields="TXT_CORREO" size="50" mode="edit" optgroup="0">
    <en>CORREO ELECTRONICO</en>
    <es>CORREO ELECTRONICO</es>
  </TXT_EMAIL_REG>
  <TXT_CORREOV type="text" maxlength="64" validate="Any" required="0" readonly="0" size="15" mode="edit" optgroup="0">
    <es>INGRESE NUEVAMENTE SU CORREO</es>
  </TXT_CORREOV>
  <TXT_CEL_REG type="text" maxlength="15" validate="Any" required="0" readonly="0" size="15" mode="edit" optgroup="0">
    <es>NUMERO DE CELULAR</es>
  </TXT_CEL_REG>
  <TEL_FIJO_REG type="text" maxlength="12" validate="Any" required="0" readonly="0" size="12" mode="edit" optgroup="0">
    <es>TELEFONO FIJO</es>
  </TEL_FIJO_REG>
  <SUB_REF_PERSONAL_REG type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[INFORMACIÓN DE SU REFERENCIA PERSONAL]]></es>
  </SUB_REF_PERSONAL_REG>
  <SUB_REF_PER_NINOS type="subtitle" required="0" readonly="0" optgroup="0">
    <es>SI USTED ES MENOR DE EDAD, FAVOR DILIEGNCIE LOS DATOS DE SUS PADRES O ACUDIENTE</es>
  </SUB_REF_PER_NINOS>
  <TXT_NOM_REF_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>NOMBRES Y APELLIDOS DE SU REFERENCIA PERSONAL</es>
  </TXT_NOM_REF_REG>
  <TXT_TEL_REF_REG type="text" maxlength="20" validate="Any" required="0" readonly="0" size="20" mode="edit" optgroup="0">
    <es>NUMERO DE TELEFONO FIJO O CELULAR</es>
  </TXT_TEL_REF_REG>
  <TXT_EMAIL_REF_REG type="text" maxlength="100" validate="Email" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>EMAIL DE SU REFERENCIA PERSONAL</es>
  </TXT_EMAIL_REF_REG>
  <TXT_OCU_REF_REG type="textarea" required="0" readonly="0" rows="3" cols="50" mode="edit" optgroup="0">
    <es><![CDATA[OCUPACIÓN/LUGAR DE TRABAJO]]></es>
  </TXT_OCU_REF_REG>
  <BTN_ENVIAR type="submit" required="0" readonly="0" optgroup="0">
    <es>ENVIAR</es>
  </BTN_ENVIAR>
  <ocultar_flechas type="javascript" meta=""><![CDATA[function ocultar_flechas(){
  hidden(getField("DYN_BACKWARD").parentNode);
  hidden(getField("DYN_FORWARD").parentNode);
}
ocultar_flechas();]]></ocultar_flechas>
  <validar_formulario type="javascript" meta=""><![CDATA[getField("BTN_ENVIAR").form.onsubmit = function(){
  
  
  var expr = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  var simbolos_alfanumerico = /^([áéíúóñÑa-zA-Z0-9])/;
  var simbolos_alfabetico = /^([áéíúóñÑa-zA-Z\s]+)$/;
  var simbolos_direccion = /^([áéíúóñÑa-zA-Z\.\-\#\s])/;  
  var simbolos_text = /^([áéíúóñÑa-zA-Z0-9\.\-\#\(\)\¿\?\+\-\=\;\,\:\@\!\¡\*\/\%\$\s])/;

  
  var doc           = getField("TXT_NUM_DOC_REG").value;
  var nombres       = getField("TXT_NOM_REG").value;  
  var apellidos     = getField("TXT_APE_REG").value;
  var fecha_nac     = getField("DATE_FECHA_NAC_REG").value;  
  var nom_pais      = getField("DRP_PAIS_REG").selectedIndex;
  var pais          = getField("DRP_PAIS_REG").options[nom_pais].text;
  var departamento  = getField("DRP_DEP_NAC_REG").selectedIndex;
  var ciudad        = getField("DRP_CIU_NAC_REG").selectedIndex;
  var direccion     = getField("TXT_DIR_REG").value;
  var genero        = getField("DRP_GEN_REG").selectedIndex; 
  var est_civil     = getField("DRP_EST_CIVIL_REG").selectedIndex;
  var ocupacion     = getField("DRP_OCU_REG").selectedIndex;
  var estudios      = getField("DRP_ESTU_REG").selectedIndex;
  var estudios_otro = getField("TXT_OTROS_EST_REG").value;
  var inst_edu      = getField("TXT_INST_EDU_REG").value;
  var email         = getField("TXT_EMAIL_REG").value;
  var emailv       = getField("TXT_CORREOV").value;
  var celular       = getField("TXT_CEL_REG").value;
  var fijo          = getField("TEL_FIJO_REG").value;
  var contacto      = getField("TXT_NOM_REF_REG").value;
  var contacto_tel  = getField("TXT_TEL_REF_REG").value;
  var correo        = getField("TXT_EMAIL_REF_REG").value;
  var contacto_ocu  = getField("TXT_OCU_REF_REG").value;
 


  if((tipo_doc == 1 || tipo_doc == 2) && isNaN(doc)){
    alert("La cédula y tarjeta de identidad solo deben contener números.");
    return false;
  }
  
  if((tipo_doc != 1 && tipo_doc != 2) && !simbolos_alfanumerico.test(doc)){
    alert("El documento solo puede contener letras y números.");
    return false;
  }

  if(nombres.length == 0 || nombres.length > 50 || !simbolos_alfabetico.test(nombres)){
    alert("Por favor, ingrese sus nombres. Deben contener solo letras, máximo 50 caracteres.");
    return false;
  }

  if(apellidos.length == 0 || apellidos.length > 50 || !simbolos_alfabetico.test(apellidos)){
    alert("Por favor, ingrese sus apellidos. Deben contener solo letras, máximo 50 caracteres.");
    return false;
  }
  
 
  if(fecha_nac == ""){
    alert("Por favor, ingrese su fecha de nacimiento.");
    return false;
  }
  
  //-----
  
  if(pais == '--SELECCIONAR--' ){
    alert("Por favor, seleccione un país.");
    return false;
  }

  if(pais == 'Colombia' && (departamento == '0' || ciudad == '0')){
    alert("por favor, seleccione un departamento y ciudad de nacimiento.");
    return false;
  }
  
  //------
  
  if(direccion.length == 0 || direccion.length > 100 || !simbolos_direccion.test(direccion)){
    alert("Por favor, ingrese su dirección. Puede contener letras, números y los siguientes simbolos: (.), (¿), (%), (*), (-), (+), (\), (/), (#), (-), (?), (¡), (!), (=), (,), (;), (:), (@).     Máximo 100 caracteres.");
    return false;
  }
  
  if(genero == 0){
    alert("Por favor, seleccione su sexo.");
    return false;
  }  

  if(est_civil == 0){
    alert("Por favor, seleccione su estado civil.");
    return false;
  }

  if(ocupacion == 0){
    alert("Por favor, seleccione su ocupación");
    return false;
  }

  if(estudios == 0){
    alert("Por favor, seleccione su nivel de estudios.");
    return false;
  }

  if(estudios == 6 && estudios_otro == ""){
    alert("Por favor, especifique su nivel de estudios.");
    getField("TXT_OTROS_EST_REG").value="";
    return false;
    
  }

  if( estudio== 5 ){
    getField("TXT_OTROS_EST_REG").value="";
    getField("TXT_INST_EDU_REG").value="";
  }

  if(inst_edu.length == 0 || inst_edu.length > 50 || !simbolos_text.test(inst_edu)){
    alert("Por favor, ingrese la institución educativa. Puede contener letras, números y los siguientes simbolos: (.), (¿), (%), (*), (-), (+), (\), (/), (#), (-), (?), (¡), (!), (=), (,), (;), (:), (@). Máximo 50 caracteres.");
    return false;
  }

  if(email.length == 0 || email.length > 100 || !expr.test(email)){
    alert("por favor, ingrese el email. Debe tener el formato: email@email.com, máximo 100 caracteres.");
    return false;
  }
  
  if (email != emailv){
    alert("Los correos suministrados, no son iguales, por favor revise estos campos");
    return false;
  }
  
  
  if(celular.length == 0 || celular.length > 20 || isNaN(celular)){
    alert("Por favor, ingrese su número de celular. Puede contener solo números, máximo 20 dígitos.");
    return false;
  }  

  if(contacto.length == 0 || contacto.length > 100 || !simbolos_alfabetico.test(contacto)){
    alert("Por favor, ingrese en nombre completo de la persona de contacto. Puede contener solo letras, máximo 100 caracteres.");
    return false;
  }

  if(contacto_tel.length == 0 || contacto_tel.length > 20 || isNaN(contacto_tel)){
    alert("Por favor, ingrese el número de telefono de la persona de contacto. Puede contener solo números, máximo 20 dígitos.");
    return false;
  }

  if(correo.length == 0 || correo.length > 100 || !expr.test(correo)){
    alert("por favor, ingrese el email de la persona que sera su referencia personal. Debe tener el formato: email@email.com, máximo 100 caracteres.");
    return false;
  }
  
  if(contacto_ocu.length == 0 || contacto_ocu.length > 50 || !simbolos_alfabetico.test(contacto_ocu)){
    alert("Por favor, ingrese la ocupación de la persona de contacto. Puede contener letras y números, máximo 50 caracteres.");
    return false;
  }

  
  var r = confirm("Usted ha modificado la informanción personal del usuario. ¿Está seguro(a) de realizar la actualización de la información?");
  if (r == true) {
    return true;
  } else {
    return false;
  }  
}]]></validar_formulario>
</dynaForm>
000000032765113650551c69bd83f4e6041252320000016601<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="691966554551c676e641aa7085022788/765113650551c69bd83f4e6041252320" enabletemplate="0" type="xmlform" width="800" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <TIT_PRIN type="title" required="0" readonly="0" optgroup="0">
    <es>FORMULARIO DE REGISTRO BIBLIOTECA CARLOS CESAR PUYANA</es>
  </TIT_PRIN>
  <SUB_INF_PER type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[DILIGENCIE SU INFORMACIÓN PERSONAL DE FORMA CORRECTA]]></es>
  </SUB_INF_PER>
  <TXT_NOM_REG type="text" maxlength="50" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>NOMBRES</es>
  </TXT_NOM_REG>
  <TXT_APE_REG type="text" maxlength="50" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>APELLIDOS</es>
  </TXT_APE_REG>
  <DRP_TIPO_DOC_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">select * from PMT_TIPO_DOC<es>TIPO DE DOCUMENTO      
      <option name="0">--SELECCIONAR--</option></es></DRP_TIPO_DOC_REG>
  <TXT_NUM_DOC_REG type="text" maxlength="20" validate="Any" required="0" readonly="0" dependentfields="TXT_DOCUMENTO" size="20" mode="edit" optgroup="0">
    <en>NUMERO DE DOCUMENTO</en>
    <es>NUMERO DE DOCUMENTO</es>
  </TXT_NUM_DOC_REG>
  <TXT_DOCUMENTO type="text" maxlength="64" validate="Any" required="0" readonly="0" size="15" mode="edit" optgroup="0"><![CDATA[  SELECT USR_NUM_DOC_REG FROM PMT_BITACORA_USUARIOS_BIBLIOTECA WHERE USR_NUM_DOC_REG = @@TXT_NUM_DOC_REG]]><en/></TXT_DOCUMENTO>
  <DATE_FECHA_NAC_REG type="date" relativedate="1" beforedate="-100Y" afterdate="0d" mask="%Y-%m-%d" editable="0" required="0" readonly="0" defaultvalue_sel="empty" size="15" mode="edit" optgroup="0">
    <es>FECHA DE NACIMIENTO</es>
  </DATE_FECHA_NAC_REG>
  <DRP_PAIS_REG type="dropdown" required="0" readonly="0" optgroup="0" dependentfields="DRP_DEP_NAC_REG" mode="edit">select Code,Name from country ORDER BY Name
    <es>PAIS DE NACIMIENTO                                    
      <option name="0">--SELECCIONAR--</option></es></DRP_PAIS_REG>
  <DRP_DEP_NAC_REG type="dropdown" required="0" readonly="0" optgroup="0" dependentfields="DRP_CIU_NAC_REG" mode="edit">SELECT cod_dan,des_dep FROM departamentos ORDER BY des_dep<es>DEPARTAMENTO DE NACIMIENTO      
      <option name="0">--SELECCIONAR--</option></es></DRP_DEP_NAC_REG>
  <DRP_CIU_NAC_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">SELECT * FROM ciudades WHERE cod_dan_dep = @@DRP_DEP_NAC_REG<es>CIUDAD DE NACIMIENTO            
      <option name="0">--SELECCIONAR--</option></es></DRP_CIU_NAC_REG>
  <TXT_DIR_REG type="textarea" required="0" readonly="0" rows="3" cols="50" mode="edit" optgroup="0">
    <es><![CDATA[DIRECCIÓN DE SU VIVIENDA]]></es>
  </TXT_DIR_REG>
  <DRP_GEN_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es>SEXO      
      <option name="0">--SELECCIONAR--</option>
      <option name="1">MASCULINO</option>
      <option name="2">FEMENINO</option></es>
  </DRP_GEN_REG>
  <DRP_EST_CIVIL_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es>ESTADO CIVIL
      <option name="0">--SELECCIONE--</option>
      <option name="1">SOLTERO</option>
      <option name="2">CASADO</option>
      <option name="3">VIUDO</option>
      <option name="4">DIVORCIADO</option>
      <option name="5">OTRO</option></es>
  </DRP_EST_CIVIL_REG>
  <DRP_OCU_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es><![CDATA[OCUPACIÓN 
      ]]><option name="0">--SELECCIONAR--</option><option name="1">ESTUDIANTE</option><option name="2">TRABAJADOR</option><option name="3">DESEMPLEADO</option><option name="4">OTRO</option></es>
  </DRP_OCU_REG>
  <DRP_ESTU_REG type="dropdown" required="0" readonly="0" optgroup="0" mode="edit">
    <es>NIVEL DE ESTUDIOS      
      <option name="0">--SELECCIONAR--</option>
      <option name="1">PRESCOLAR</option>
      <option name="2">PRIMARIA</option>
      <option name="3">BACHILLERATO</option>
      <option name="4">UNIVERSITARIOS</option>
      <option name="5">NINGUNO</option>
      <option name="6">OTROS</option></es>
  </DRP_ESTU_REG>
  <TXT_OTROS_EST_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>CUALES?</es>
  </TXT_OTROS_EST_REG>
  <TXT_INST_EDU_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es><![CDATA[INSTITUCIÓN EDUCATIVA]]></es>
  </TXT_INST_EDU_REG>
  <SUB_INF_CONTACTO type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[INFORMACIÓN DE CONTACTO]]></es>
  </SUB_INF_CONTACTO>
  <SUB_MENSAJE_EMAIL type="subtitle" required="0" readonly="0" optgroup="0">
    <en>POR FAVOR INGRESE UN CORREO ELECTRONICO VALIDO Y DE SU PROPIEDAD, PUESTO QUE ESTE MISMO SERA SU NOMBRE DE USUARIO PARA ACCEDER A LA PLATAFORMA Y AL CUAL SE ENVIARAN TODAS LAS NOTIFICACIONES.</en>
  </SUB_MENSAJE_EMAIL>
  <TXT_EMAIL_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" dependentfields="TXT_CORREO" size="50" mode="edit" optgroup="0">
    <es>CORREO ELECTRONICO</es>
    <en>CORREO ELECTRONICO</en>
  </TXT_EMAIL_REG>
  <TXT_CORREO type="text" maxlength="64" validate="Any" required="0" readonly="0" size="15" mode="edit" optgroup="0"><![CDATA[ SELECT EMAIL_REG FROM PMT_BITACORA_USUARIOS_BIBLIOTECA WHERE EMAIL_REG = @@TXT_EMAIL_REG]]><es/><en/></TXT_CORREO>
  <TXT_VAL_EMAIL_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>POR FAVOR ESCRIBA NUEVAMENTE SU CORREO</es>
  </TXT_VAL_EMAIL_REG>
  <TXT_CEL_REG type="text" maxlength="15" validate="Any" required="0" readonly="0" size="15" mode="edit" optgroup="0">
    <es>NUMERO DE CELULAR</es>
  </TXT_CEL_REG>
  <TEL_FIJO_REG type="text" maxlength="12" validate="Any" required="0" readonly="0" size="12" mode="edit" optgroup="0">
    <es>TELEFONO FIJO</es>
  </TEL_FIJO_REG>
  <SUB_REF_PERSONAL_REG type="subtitle" required="0" readonly="0" optgroup="0">
    <es><![CDATA[INFORMACIÓN DE SU REFERENCIA PERSONAL]]></es>
  </SUB_REF_PERSONAL_REG>
  <SUB_REF_PER_NINOS type="subtitle" required="0" readonly="0" optgroup="0">
    <es>SI USTED ES MENOR DE EDAD, FAVOR DILIEGNCIE LOS DATOS DE SUS PADRES O ACUDIENTE</es>
  </SUB_REF_PER_NINOS>
  <TXT_NOM_REF_REG type="text" maxlength="100" validate="Any" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>NOMBRES Y APELLIDOS DE SU REFERENCIA PERSONAL</es>
  </TXT_NOM_REF_REG>
  <TXT_TEL_REF_REG type="text" maxlength="20" validate="Any" required="0" readonly="0" size="20" mode="edit" optgroup="0">
    <es>NUMERO DE TELEFONO FIJO O CELULAR</es>
  </TXT_TEL_REF_REG>
  <TXT_EMAIL_REF_REG type="text" maxlength="100" validate="Email" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es>EMAIL DE SU REFERENCIA PERSONAL</es>
  </TXT_EMAIL_REF_REG>
  <TXT_OCU_REF_REG type="textarea" required="0" readonly="0" rows="3" cols="50" mode="edit" optgroup="0">
    <es><![CDATA[OCUPACIÓN/LUGAR DE TRABAJO]]></es>
  </TXT_OCU_REF_REG>
  <SUB_NOTA type="title" required="0" readonly="0" optgroup="0">
    <es><![CDATA[LA INFORMACIÓN SUMINISTRADA EN ESTE FORMULARIO SERA CORROBORADA POR MEDIO DE LLAMADA TELEFONICA, CON EL FIN DE CONFIRMAR SUS DATOS Y CREAR SU CUENTA]]></es>
  </SUB_NOTA>
  <TXT_HABEAS type="subtitle" enablehtml="1" required="0" readonly="0" optgroup="0">
    <es><![CDATA[LA BIBLIOTECA PÚBLICA CARLOS CÉSAR PUYANA CREADA POR MEDIO DEL ACUERDO NÚMERO 036 DE NOVIEMBRE DE 2013, EN SU CALIDAD DE ENCARGADO Y/O RESPONSABLE DEL TRATAMIENTO DE DATOS PERSONALES, SOLICITA A LOS USUARIOS DE LA BIBLIOTECA PÚBLICA, AUTORIZACIÓN PARA EL TRATAMIENTO DE SUS DATOS PERSONALES, IMPARTIENDO SU AUTORIZACIÓN AL DILIGENCIAR EL FORMULARIO DE REGISTRO.
<br>
LA INFORMACIÓN Y DATOS PERSONALES DISPONIBLES EN NUESTRAS BASES DE DATOS SE ENCUENTRAN PROTEGIDOS POR LA LEY DE PROTECCIÓN DE DATOS PERSONALES Y PODRÁN SER PROCESADOS, RECOLECTADOS, ALMACENADOS, USADOS, CIRCULADOS, SUPRIMIDOS, COMPARTIDOS, ACTUALIZADOS, TRANSMITIDOS Y/O TRANSFERIDOS A TERCEROS, NACIONALES E INTERNACIONALES, DE ACUERDO A LA LEY ESTATUTARIA NÚMERO 1266, DEL 31 DE DICIEMBRE DE 2008.
<BR>
<A HREF="http://www.sic.gov.co/drupal/sites/default/files/files/ley1266_31_12_2008(1).pdf" TARGET="_new">Más información</A>]]></es>
  </TXT_HABEAS>
  <CHK_HABEAS type="checkbox" value="On" falsevalue="Off" defaultvalue="Off" readonly="0" required="0" optgroup="0">
    <es>Acepto los términos de habeas data </es>
  </CHK_HABEAS>
  <TXT_PASSWORD type="password" maxlength="15" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es><![CDATA[CONTRASEÑA]]></es>
  </TXT_PASSWORD>
  <TXT_PASSWORD2 type="password" maxlength="15" required="0" readonly="0" size="50" mode="edit" optgroup="0">
    <es><![CDATA[CONFIRME LA CONTRASEÑA]]></es>
  </TXT_PASSWORD2>
  <BTN_ENVIAR type="submit" required="0" readonly="0" optgroup="0">
    <es>ENVIAR</es>
  </BTN_ENVIAR>
  <ocultar_flechas type="javascript" meta=""><![CDATA[function ocultar_flechas(){
  hidden(getField("DYN_BACKWARD").parentNode);
  hidden(getField("DYN_FORWARD").parentNode);
}
ocultar_flechas();]]></ocultar_flechas>
  <validar_formulario type="javascript" meta=""><![CDATA[getField("BTN_ENVIAR").form.onsubmit = function(){
  
  var checkboxVal = getField("CHK_HABEAS").checked;
  
  var nombres       = getField("TXT_NOM_REG").value;  
  var apellidos     = getField("TXT_APE_REG").value;
  var tipo_doc      = getField("DRP_TIPO_DOC_REG").selectedIndex;
  var doc           = getField("TXT_NUM_DOC_REG").value;
  var fecha_nac     = getField("DATE_FECHA_NAC_REG").value;  
  var nom_pais      = getField("DRP_PAIS_REG").selectedIndex;
  var pais          = getField("DRP_PAIS_REG").options[nom_pais].text;
  var departamento  = getField("DRP_DEP_NAC_REG").selectedIndex;
  var ciudad        = getField("DRP_CIU_NAC_REG").selectedIndex;
  var genero        = getField("DRP_GEN_REG").selectedIndex;  
  var est_civil     = getField("DRP_EST_CIVIL_REG").selectedIndex;
  var ocupacion     = getField("DRP_OCU_REG").selectedIndex;
  var estudios      = getField("DRP_ESTU_REG").selectedIndex;
  var estudios_otro = getField("TXT_OTROS_EST_REG").value;
  var inst_edu      = getField("TXT_INST_EDU_REG").value;
  var email         = getField("TXT_EMAIL_REG").value;
  var direccion     = getField("TXT_DIR_REG").value;
  var celular       = getField("TXT_CEL_REG").value;
  var fijo          = getField("TEL_FIJO_REG").value;
  var contacto      = getField("TXT_NOM_REF_REG").value;
  var contacto_tel  = getField("TXT_TEL_REF_REG").value;
  var correo        = getField("TXT_EMAIL_REF_REG").value;
  var contacto_ocu  = getField("TXT_OCU_REF_REG").value;
  var password      = getField("TXT_PASSWORD").value;
  var password2     = getField("TXT_PASSWORD2").value;
  var vdoc          = getField("TXT_DOCUMENTO").value;
  var vcorreo       = getField("TXT_CORREO").value;
  var valcorreo     = getField("TXT_VAL_EMAIL_REG").value;
  
  
  
  

  var expr = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  var simbolos_alfanumerico = /^([áéíúóñÑa-zA-Z0-9])/;
  var simbolos_alfabetico = /^([áéíúóñÑa-zA-Z\s]+)$/;
  var simbolos_direccion = /^([áéíúóñÑa-zA-Z\.\-\#\s])/;  
  var simbolos_text = /^([áéíúóñÑa-zA-Z0-9\.\-\#\(\)\¿\?\+\-\=\;\,\:\@\!\¡\*\/\%\$\s])/;


  if(nombres.length == 0 || nombres.length > 50 || !simbolos_alfabetico.test(nombres)){
    alert("Por favor, ingrese sus nombres. Deben contener solo letras, máximo 50 caracteres.");
    return false;
  }

  if(apellidos.length == 0 || apellidos.length > 50 || !simbolos_alfabetico.test(apellidos)){
    alert("Por favor, ingrese sus apellidos. Deben contener solo letras, máximo 50 caracteres.");
    return false;
  }
  
  if(tipo_doc == 0){
    alert("Por favor, seleccione un tipo de documento.");
    return false;
  }
  
  if(doc.length == 0){
    alert("por favor, ingrese su documento de identidad.");
    return false;
  }

  if((tipo_doc == 1 || tipo_doc == 2) && isNaN(doc)){
    alert("La cédula y tarjeta de identidad solo deben contener números.");
    return false;
  }

  if((tipo_doc != 1 && tipo_doc != 2) && !simbolos_alfanumerico.test(doc)){
    alert("El documento solo puede contener letras y números.");
    return false;
  }
  
  if(vdoc != ""){
    alert("El número de documento ya esta en uso. Por favor, ingrese uno diferente.");
    return false;
  }

  if(fecha_nac == ""){
    alert("Por favor, ingrese su fecha de nacimiento.");
    return false;
  }
  
  //-----
  
  if(pais == '--SELECCIONAR--' ){
    alert("Por favor, seleccione un país.");
    return false;
  }

  if(pais == 'Colombia' && (departamento == '0' || ciudad == '0')){
    alert("por favor, seleccione un departamento y ciudad de nacimiento.");
    return false;
  }
  
  //------
  
  if(direccion.length == 0 || direccion.length > 100 || !simbolos_direccion.test(direccion)){
    alert("Por favor, ingrese su dirección. Puede contener letras, números y los siguientes simbolos: (.), (¿), (%), (*), (-), (+), (\), (/), (#), (-), (?), (¡), (!), (=), (,), (;), (:), (@). Máximo 100 caracteres.");
    return false;
 }
  
  
  if(genero == 0){
    alert("Por favor, seleccione su sexo.");
    return false;
  }  

  if(est_civil == 0){
    alert("Por favor, seleccione su estado civil.");
    return false;
  }

  if(ocupacion == 0){
    alert("Por favor, seleccione su ocupación");
    return false;
  }

  if(estudios == 0){
    alert("Por favor, seleccione su nivel de estudios.");
    return false;
  }
  
    if(estudios == 5 ){
  }
  else if(inst_edu.length == 0 || inst_edu.length > 50 || !simbolos_text.test(inst_edu)){
    alert("Por favor, ingrese la institución educativa. Puede contener letras, números y los siguientes símbolos:  . ¿?%*-+/ \#!=:@;¡");
    return false;
  }
    

  if(estudios == 6 && estudios_otro == ""){
    alert("Por favor, especifique su nivel de estudios.");
    return false;
  }

 

  if(email.length == 0 || email.length > 100 || !expr.test(email)){
    alert("por favor, ingrese el email. Debe tener el formato: email@email.com, máximo 100 caracteres.");
    return false;
  }
  
 
  if(vcorreo != ""){
    alert("El correo electrónico ya esta en uso. Por favor ingrese uno diferente.");
    return false;
    
    alert(vcorreo);
  }
  if(email!= valcorreo){
    alert("Los correos no coinciden.");
    return false;
  }

 
  if(celular.length == 0 || celular.length > 20 || isNaN(celular)){
    alert("Por favor, ingrese su número de celular. Puede contener solo números, máximo 20 dígitos.");
    return false;
  }  

  if(contacto.length == 0 || contacto.length > 100 || !simbolos_alfabetico.test(contacto)){
    alert("Por favor, ingrese en nombre completo de la persona de contacto. Puede contener solo letras, máximo 100 caracteres.");
    return false;
  }

  if(contacto_tel.length == 0 || contacto_tel.length > 20 || isNaN(contacto_tel)){
    alert("Por favor, ingrese el número de telefono de la persona de contacto. Puede contener solo números, máximo 20 dígitos.");
    return false;
  }

  if(correo.length == 0 || correo.length > 100 || !expr.test(correo)){
    alert("por favor, ingrese el email de la persona que sera su referencia personal. Debe tener el formato: email@email.com, máximo 100 caracteres.");
    return false;
  }
  
  if(contacto_ocu.length == 0 || contacto_ocu.length > 50 || !simbolos_alfabetico.test(contacto_ocu)){
    alert("Por favor, ingrese la ocupación de la persona de contacto. Puede contener letras y números, máximo 50 caracteres.");
    return false;
  }

  if(password != password2){
    alert("Las contraseñas no coinciden.");
    return false;
  }
  
  if(password.length <5 || password.length >20){
    alert("La contraseña debe tener mínimo 5 caracteres y máximo 20.");
    return false;  
  }
  
   
  if(checkboxVal==false){
    alert("No puedes continuar sin aceptar los términos de Habeas Data.");
    return false;
  }
      
  var r = confirm("Recuerde que la información suministrada en este formulario debe ser válida, pues será verificada para la correspondiente activación. En caso de que la información sea falsa, la cuenta no será activada. ¿Está seguro(a) de la validez de la información que ha diligenciado?");
  if (r == true) {
    return true;
  } else {
    return false;
  }  
}]]></validar_formulario>
</dynaForm>
0000000328009374245578539d44f373083480071000001466<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="691966554551c676e641aa7085022788/8009374245578539d44f373083480071" enabletemplate="0" type="xmlform" width="1200" mode="" nextstepsave="prompt" printdynaform="" adjustgridswidth="">
  <TIT_FORM type="title" required="0" readonly="0" optgroup="0">
    <es><![CDATA[FORMULARIO DE ACTUALIZACIÓN DE DATOS DE USUARIOS]]></es>
  </TIT_FORM>
  <TXT_DOC_IDENTIDAD type="text" maxlength="64" validate="Any" required="1" readonly="0" dependentfields="TXT_VAL" size="30" mode="edit" optgroup="0">
    <es>Documento de identidad</es>
  </TXT_DOC_IDENTIDAD>
  <TXT_VAL type="text" maxlength="64" validate="Any" required="0" readonly="0" size="15" mode="edit" optgroup="0"><![CDATA[select  USR_NUM_DOC_REG  from  PMT_BITACORA_USUARIOS_BIBLIOTECA
where @@TXT_DOC_IDENTIDAD =  USR_NUM_DOC_REG]]>
    <es>Validacion</es>
  </TXT_VAL>
  <BTN_ENVIAR type="submit" required="0" readonly="0" optgroup="0">
    <es>ACTUALIZAR</es>
  </BTN_ENVIAR>
  <validacion type="javascript" meta=""><![CDATA[getField("BTN_ENVIAR").form.onsubmit = function(){  

  var vuser = getField("TXT_VAL").value;
  
  if(vuser == ""){
    alert("El usuario no existe. Por favor ingrese uno existente.");
    return false;
  };

};]]></validacion>
  <ocuiltar_js type="javascript" meta=""><![CDATA[function eliminar(){
  hidden(getField("DYN_BACKWARD").parentNode);
  hidden(getField("DYN_FORWARD").parentNode);
}
eliminar();]]></ocuiltar_js>
</dynaForm>
MAILTEMPL000000014NotActHab.html000000584<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<p><img src="http://cedt.parquesoftpasto.com/images/banner-cedtsoft3_1024.png" width="1024" height="192" alt="Banner" title="CEDT Pasto" /></p>
<p></p>
<p>Se&ntilde;or(a)<br /><b>@#TXT_NOM_APE</b></p>
<p><br />Se le notifica que usted acaba de ser habilitado para el servicio de prestamos de libros de la biblioteca de CEDT Pasto.</p>
<p>@#TXT_NOTA</p>
<p>Atentamente<br /><b>Biblioteca</b><br /><b>CEDT Pasto</b></p>
</body>
</html>000000014NotActSus.html000000584<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<p><img src="http://cedt.parquesoftpasto.com/images/banner-cedtsoft3_1024.png" width="1024" height="192" alt="banner" title="CEDT Pasto" /></p>
<p></p>
<p>Se&ntilde;or(a)<br /><b>@#TXT_NOM_APE</b></p>
<p><br />Se le notifica que usted acaba de ser suspendido para el servicio de prestamos de libros de la biblioteca de CEDT Pasto.</p>
<p>@#TXT_NOTA</p>
<p>Atentamente<br /><b>Biblioteca</b><br /><b>CEDT Pasto</b></p>
</body>
</html>000000018alert_message.html000000682
<table style=\"background-color: white; font-family: Arial,Helvetica,sans-serif; color: black; font-size: 11px; text-align: left;\" cellpadding='10' cellspacing='0' width='100%'>
<tbody>	
		<tr><td style='font-size: 14px;'><b>ALERT MESSAGE</b></td></tr>
		<tr><td style='vertical-align:middel;'>
				<hr>
				<br />
						The Case <b>@#APP_NUMBER</b>, currently in the task <b>@#TAS_TITLE</b>, expired on <b>@#DEL_TASK_DUE_DATE</b>.						
				<br />		
				<br />
				<hr><b>This Business Process is powered by ProcessMaker.<b><br />
						<a href='http://www.processmaker.com' style='color:#c40000;'>www.processmaker.com</a>
				<br />
		</td></tr>
</tbody>
</table>000000011newREG.html000001021<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<p><img src="http://cedt.parquesoftpasto.com/images/banner-cedtsoft3_1024.png" width="1024" height="192" /></p>
<p><span>Cordial Saludo.<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>Usted se ha registrado en el sistema de la biblioteca Carlos Cesar Puyana, desde este momento ya puede hacer uso de nuestro servicio de pr&eacute;stamo de libros en las instalaciones de la biblioteca, para hacer uso del servicio de pr&eacute;stamo de libros usted debe acercarse a la biblioteca y entregar la siguiente documentaci&oacute;n:<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>1.<o:p></o:p></span></p>
<p><span>2.<o:p></o:p></span></p>
<p><span>3.<o:p></o:p></span></p>
<p><span>&nbsp;<o:p></o:p></span></p>
<p><span>Atentamente<o:p></o:p></span></p>
<p><span>Administrador<o:p></o:p></span></p>
<p><span>CEDT-Pasto<o:p></o:p></span></p>
</body>
</html>000000021notCREACIOcuenta.html000000917<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<p><a href="http://cedt.parquesoftpasto.com/images/banner-cedtsoft3_1024.png"><img src="http://cedt.parquesoftpasto.com/images/banner-cedtsoft3_1024.png" width="1024" height="192" /></a></p>
<p></p>
<p><span>Cordial saludo.<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>Se&ntilde;or(a)&nbsp;@#TXT_NOM_REG&nbsp;@#TXT_APE_REG, su cuenta ha sido creada exitosamente, a partir de este momento usted ya puede solicitar el pr&eacute;stamo de libros externo.<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>Gracias por registrarse en el Sistema de la biblioteca Carlos Cesar Puyana.<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>Atentamente.</span></p>
<p>Administrador</p>
<p><span>CEDT-Pasto<o:p></o:p></span></p>
<p></p>
</body>
</html>000000014notNEWsol.html000000691<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<p><img src="http://cedt.parquesoftpasto.com/images/banner-cedtsoft3_1024.png" width="1024" height="192" /></p>
<p></p>
<p><span>Cordial saludo.<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>El se&ntilde;or(a)&nbsp;@#TXT_NOM_REG&nbsp;@#TXT_APE_REG, ha realizado una solicitud de creaci&oacute;n de una cuenta para el hacer uso de la Biblioteca del CEDT-Pasto.<o:p></o:p></span></p>
<p><span>Atentamente.<o:p></o:p></span></p>
<p><span>Administrador<o:p></o:p></span></p>
<p><span>CEDT-Pasto<o:p></o:p></span></p>
</body>
</html>000000021notRECHAZOcuenta.html000000811<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
</head>
<body>
<p><img src="http://cedt.parquesoftpasto.com/images/banner-cedtsoft3_1024.png" width="1024" height="192" /></p>
<p><span>Cordial saludo.<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>Se&ntilde;or(a)&nbsp;@#TXT_NOM_REG&nbsp;@#TXT_APE_REG, su cuenta ha sido rechazada, por los siguientes motivos:<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>&nbsp;</span></p>
<p><span>Corrija los datos err&oacute;neos y vuelva a intentar un nuevo registro.<o:p></o:p></span></p>
<p><span>&nbsp;</span></p>
<p><span>Atentamente.<o:p></o:p></span></p>
<p><span>Administrador<o:p></o:p></span></p>
<p><span>CEDT-Pasto<o:p></o:p></span></p>
</body>
</html>PUBLIC   000000027FRM_REGISTRO_BIBLIOTECA.php000000426<?php
global $_DBArray;
if (!isset($_DBArray)) {
  $_DBArray = array();
}
$_SESSION['PROCESS'] = '691966554551c676e641aa7085022788';
$_SESSION['CURRENT_DYN_UID'] = '765113650551c69bd83f4e6041252320';
$G_PUBLISH = new Publisher;
$G_PUBLISH->AddContent('dynaform', 'xmlform', '691966554551c676e641aa7085022788/765113650551c69bd83f4e6041252320', '', array(), 'FRM_REGISTRO_BIBLIOTECAPost.php');
G::RenderPage('publish', 'blank');000000031FRM_REGISTRO_BIBLIOTECAPost.php000007216<?php
 /***********************************************************************************************
  *                        --= Processmaker Web Entry Request handler =--                       *
  *                                                                                             *
  *             This file was autogenerated by Processmaker Open Source  Rel-2.8-community.98ca8de          *
  ***********************************************************************************************/
 
 //@Dynaform  : FRM_REGISTRO_BIBLIOTECA
 //@Workspace : CEDTPasto
 //@Timestamp : Saturday 18th of July 2015 05:40:26 PM
 
 define("WS_WSDL_URL",   "http://desarrollo.parquesoftpasto.com/sysCEDTPasto/es/neoclassic/services/wsdl2");
 define("WS_UPLOAD_URL", "http://desarrollo.parquesoftpasto.com/sysCEDTPasto/es/neoclassic/services/upload");
 define("WS_USER_ID",    "web");
 define("WS_USER_PASS",  "md5:bd7e9789f25d21a044c7f76e1ca2022e");
 define("WS_ROUNDROBIN", "0");
 
 try {
     @include_once ("wsClient.php");
 
     if (!function_exists("ws_open")){
         throw (new Exception("function ws_open() is not defined. File wsClient.php is missing"));
     }
 
     $oForm = new Form("691966554551c676e641aa7085022788" . "/" . "765113650551c69bd83f4e6041252320", PATH_DYNAFORM);
     $oForm->validatePost();
 
     ws_open();
     $result = ws_newCase("691966554551c676e641aa7085022788", "227243747551c67b23922d3025614937", convertFormToWSObjects($_POST["form"]));
 
     if ($result->status_code == 0) {
         $caseId = $result->caseId;
         $caseNr = $result->caseNumber;
 
         $USR_UID = -1;
 
         if ($USR_UID == -1) {
             G::LoadClass("sessions");
 
             global $sessionId;
 
             $sessions = new Sessions();
             $session  = $sessions->getSessionUser($sessionId);
 
             $USR_UID = $session["USR_UID"];
         }
 
         //Save files
         if (isset($_FILES["form"]["name"]) && count($_FILES["form"]["name"]) > 0) {
             $arrayField = array();
             $arrayFileName    = array();
             $arrayFileTmpName = array();
             $arrayFileError   = array();
             $i = 0;
 
             foreach ($_FILES["form"]["name"] as $fieldIndex => $fieldValue) {
                 if (is_array($fieldValue)) {
                     foreach ($fieldValue as $index => $value) {
                         if (is_array($value)) {
                             foreach ($value as $grdFieldIndex => $grdFieldValue) {
                                 $arrayField[$i]["grdName"] = $fieldIndex;
                                 $arrayField[$i]["grdFieldName"] = $grdFieldIndex;
                                 $arrayField[$i]["index"] = $index;
 
                                 $arrayFileName[$i]    = $_FILES["form"]["name"][$fieldIndex][$index][$grdFieldIndex];
                                 $arrayFileTmpName[$i] = $_FILES["form"]["tmp_name"][$fieldIndex][$index][$grdFieldIndex];
                                 $arrayFileError[$i]   = $_FILES["form"]["error"][$fieldIndex][$index][$grdFieldIndex];
                                 $i = $i + 1;
                             }
                         }
                     }
                 } else {
                     $arrayField[$i] = $fieldIndex;
 
                     $arrayFileName[$i]    = $_FILES["form"]["name"][$fieldIndex];
                     $arrayFileTmpName[$i] = $_FILES["form"]["tmp_name"][$fieldIndex];
                     $arrayFileError[$i]   = $_FILES["form"]["error"][$fieldIndex];
                     $i = $i + 1;
                 }
             }
 
             if (count($arrayField) > 0) {
                 for ($i = 0; $i <= count($arrayField) - 1; $i++) {
                     if ($arrayFileError[$i] == 0) {
                         $indocUid = null;
                         $fieldName = null;
 
                         if (is_array($arrayField[$i])) {
                             if (isset($_POST["INPUTS"][$arrayField[$i]["grdName"]][$arrayField[$i]["grdFieldName"]]) &&
                                 !empty($_POST["INPUTS"][$arrayField[$i]["grdName"]][$arrayField[$i]["grdFieldName"]])
                             ) {
                                 $indocUid = $_POST["INPUTS"][$arrayField[$i]["grdName"]][$arrayField[$i]["grdFieldName"]];
                             }
 
                             $fieldName = $arrayField[$i]["grdName"] . "_" . $arrayField[$i]["index"] . "_" . $arrayField[$i]["grdFieldName"];
                         } else {
                             if (isset($_POST["INPUTS"][$arrayField[$i]]) &&
                                 !empty($_POST["INPUTS"][$arrayField[$i]])
                             ) {
                                 $indocUid = $_POST["INPUTS"][$arrayField[$i]];
                             }
 
                             $fieldName = $arrayField[$i];
                         }
 
                         $filePath = G::sys_get_temp_dir() . PATH_SEP . $arrayFileName[$i];
                         file_put_contents($filePath, file_get_contents($arrayFileTmpName[$i]));
 
                         if ($indocUid != null) {
                             //Input file type
                             ws_sendFile($filePath, $USR_UID, $caseId, 1, $indocUid, $fieldName);
                         } else {
                             //Attached file type
                             ws_sendFile($filePath, $USR_UID, $caseId, 1, null, $fieldName);
                         }
                     }
                 }
             }
         }
 
         $result = ws_routeCase($caseId, 1);
         $assign = $result->message;
 
         $aMessage["MESSAGE"] = "<br />Case created in ProcessMaker<br />Case Number: $caseNr <br />Case Id: $caseId<br />Case derivated to: $assign<br />";
     } else {
         $aMessage["MESSAGE"] = "<font color=\"red\">
                                 An error occurred while the application was being processed.<br />
                                 Error code: " . $result->status_code . "<br />
                                 Error message: " . $result->message . "
                                 </font>
                                 <br /><br />
                                 <strong>Please contact to your system administrator.</strong>";
     }
 
     /**
     * By default show the case info, for the recently created case
     * you can change it or redirect to another page
     * i.e. G::header("Location: http://www.processmaker.com");
     */
 	/*----------------------------------********---------------------------------*/
 
     $G_PUBLISH = new Publisher();
     $G_PUBLISH->AddContent("xmlform", "xmlform", "login/showInfo", "", $aMessage);
     G::RenderPage("publish", "blank");
 } catch (Exception $e) {
     $G_PUBLISH = new Publisher();
     $suggest_message = "This web entry should be regenerated, please contact to your system administrator.";
     $aMessage["MESSAGE"] = "<font color=\"red\"><pre>" . $e->getMessage() . "</pre>" . $suggest_message . "</font>";
     $G_PUBLISH->AddContent("xmlform", "xmlform", "login/showMessage", "", $aMessage);
     G::RenderPage("publish", "blank");
 }
000000012wsClient.php000014551<?php
ini_set("soap.wsdl_cache_enabled", "1"); // enabling WSDL cache


function parseItemArray($array) {
  if (! isset($array->item) && ! is_array($array)) {
    return null;
  }

  $result = array ();
  if (isset($array->item)) {
    foreach ( $array->item as $key => $value ) {
      $result[$value->key] = $value->value;
    }
  } else {
    foreach ( $array as $key => $value ) {
      $result[$value->key] = $value->value;
    }
  }
  return $result;
}

/**
 * function convertFormToWSObjects
 * @param $form
 * Convert a normal POST form into the correspondent valid structure for webservice
 * @return array of objects
 */
function convertFormToWSObjects($form) {

  foreach ( $form as $key => $val ) {
    if (! is_array($val)) { //Normal Variables
      $obj = new stdClass();
      $obj->name = $key;
      $obj->value = $val;
      $aVariables[] = $obj;
    } else {
      foreach ( $val as $gridKey => $gridRow ) { //Sp�cial Variables like grids or checkgroups
        if (is_array($gridRow)) { //Grids
          foreach ( $gridRow as $col => $colValue ) {
            $obj = new stdClass();
            $obj->name = $key . "][" . $gridKey . "][" . $col;
            $obj->value = $colValue;
            $aVariables[] = $obj;
          }
        } else { //Checkgroups, Radiogroups
          $obj = new stdClass();
          $obj->name = $key;
          $obj->value = implode("|", $val);
          $aVariables[] = $obj;
        }
      }
    }
  }

  return $aVariables;
}

//this function is not necesary for version 2 of PM webservices
function convertSoapArrayToArray($object) {
  $result = array ();
  $properties = get_object_vars($object);

  foreach ( $properties as $keyProperties => $valProperties ) {
    $array = array ();
    foreach ( $valProperties as $keyItems => $valItems ) {
      $node = array ();
      if (isset($valItems->item)) {
        foreach ( $valItems->item as $keyNode => $valNode ) {
          $node[$valNode->key] = $valNode->value;
        }
      }
      if (is_array($valItems)) {
        foreach ( $valItems as $keyNode => $valNode ) {
          $node[$valNode->key] = $valNode->value;
        }
      }
      $array[] = $node;
    }
    $result[$keyProperties] = $array;
  }
  return $result;
}

function ws_parser($result) {
  $rows = array ();
  if (isset($result->derivation))
    if (is_array($result->derivation->item)) {
      foreach ( $result->derivation->item as $index => $val ) {
        $rows[$val->key] = $val->value;
      }
    } else {
      $rows[$result->derivation->item->key] = $result->derivation->item->value;
    }

  return $rows;
}

function ws_open() {
  global $sessionId;
  global $client;
  $endpoint = WS_WSDL_URL;
  $sessionId = '';
  @$client = new SoapClient($endpoint);

  $user = WS_USER_ID;
  $pass = WS_USER_PASS;

  $params = array (
    'userid' => $user,
    'password' => $pass
  );
  $result = $client->__SoapCall('login', array (
    $params
  ));

  if ($result->status_code == 0) {
    $sessionId = $result->message;
    return 1;
  }
  throw (new Exception($result->message));
}

function ws_open_with_params($endpoint, $user, $pass) {
  global $sessionId;
  global $client;
  $sessionId = '';
  @$client = new SoapClient($endpoint);

  $params = array (
    'userid' => $user,
    'password' => $pass
  );
  $result = $client->__SoapCall('login', array (
    $params
  ));

  if ($result->status_code == 0) {
    $sessionId = $result->message;
    return 1;
  }
  throw (new Exception($result->message));
}

function ws_sendEmailMessage($caseId, $toEmail, $sSubject, $ccEmail, $bccEmail, $template) {
  global $sessionId;
  global $client;
  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'from' => 'soporte <support@colosa.com>',
    'to' => $toEmail,
    'cc' => $ccEmail,
    'bcc' => $bccEmail,
    'subject' => $sSubject,
    'template' => $template
  );
  $result = $client->__SoapCall('sendMessage', array (
    $params
  ));
  return $result;
}

function ws_sendMessage($caseId, $toEmail, $sSubject, $ccEmail, $bccEmail, $template) {
  global $sessionId;
  global $client;
  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'from' => 'soporte <support@colosa.com>',
    'to' => $toEmail,
    'cc' => $ccEmail,
    'bcc' => $bccEmail,
    'subject' => $sSubject,
    'template' => $template
  );
  $result = $client->__SoapCall('sendMessage', array (
    $params
  ));
  return $result;
}

function ws_getVariables($caseId, $variables) {
  global $sessionId;
  global $client;

  $aVariables = array ();
  foreach ( $variables as $key => $val ) {
    $obj = new stdClass();
    $obj->name = $val;
    $aVariables[] = $obj;
  }

  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'variables' => $aVariables
  );
  $result = $client->__SoapCall('getVariables', array (
    $params
  ));
  return $result;
}

function ws_newCase($proUid, $taskUid, $variables) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'processId' => $proUid,
    'taskId' => $taskUid,
    'variables' => $variables
  );

  $result = $client->__SoapCall('newCase', array (
    $params
  ));

  return $result;
}

function ws_sendVariables($caseId, $variables) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'variables' => $variables
  );
  $result = $client->__SoapCall('sendVariables', array (
    $params
  ));

  return $result;
}

function ws_executeTrigger($caseId, $triggerId, $delIndex) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'triggerIndex' => $triggerId,
    'delIndex' => $delIndex
  );
  $result = $client->__SoapCall('executeTrigger', array (
    $params
  ));
  return $result;
}

//only for backward compatibility
function ws_derivateCase($caseId, $delId) {
  global $sessionId;
  global $client;

  $rows = array ();
  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'delIndex' => $delId
  );
  $result = $client->__SoapCall('derivateCase', array (
    $params
  ));
  $rows = ws_parser($result);

  $result->derivation = $rows;
  //print_r($result);
  return $result;
}

function ws_routeCase($caseId, $delId) {
  global $sessionId;
  global $client;

  $rows = array ();
  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'delIndex' => $delId
  );
  $result = $client->__SoapCall('routeCase', array (
    $params
  ));
  return $result;
}

function ws_processList() {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId
  );
  $result = $client->__SoapCall('processList', array (
    $params
  ));
  //if ( $result->status_code == 0 ) {
  return $result;
  //}
//throw ( new Exception ( $result->message ) );
}

function ws_groupList() {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId
  );
  $result = $client->__SoapCall('groupList', array (
    $params
  ));
  return $result;
}

function ws_departmentList() {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId
  );
  $result = $client->__SoapCall('departmentList', array (
    $params
  ));

  if ( !is_array($result->departments) ) {
  	$res = new StdClass();
    $res->departments[0] = $result->departments;
    return $res;
  }

  return $result;
}

function ws_roleList() {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId
  );
  $result = $client->__SoapCall('roleList', array (
    $params
  ));
  return $result;
}

function ws_caseList() {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId
  );
  $result = $client->__SoapCall('caseList', array (
    $params
  ));
  return $result;
}

function ws_userList() {
  global $sessionId;
  global $client;

  $users = array ();
  $params = array (
    'sessionId' => $sessionId
  );
  $result = $client->__SoapCall('userList', array (
    $params
  ));
  return $result;
}

function ws_triggerList() {
  global $sessionId;
  global $client;

  $users = array ();
  $params = array (
    'sessionId' => $sessionId
  );
  $result = $client->__SoapCall('triggerList', array (
    $params
  ));
  return $result;
}

function ws_getCaseInfo($caseId, $delIndex = NULL) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'delIndex' => $delIndex
  );
  $result = $client->__SoapCall('getCaseInfo', array (
    $params
  ));
  return $result;
}

function ws_reassignCase($caseId, $delIndex, $userIdSource, $userIdTarget) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId,
    'delIndex' => $delIndex,
    'userIdSource' => $userIdSource,
    'userIdTarget' => $userIdTarget
  );
  $result = $client->__SoapCall('reassignCase', array (
    $params
  ));
  //if ( $result->status_code == 0 ) {
  //  return $result;
  //}
  return $result;
  //throw ( new Exception ( $result->message ) );
}

function ws_taskCase($caseId) {
  global $sessionId;
  global $client;

  $params = array (
    'caseId' => $caseId
  );
  //$result = $client->__SoapCall( 'sessionId' => $sessionId, 'taskCase', array($params) );
  //  $result = $client->__SoapCall( 'sessionId' => $sessionId, 'taskCase', array($params) );
  if ($result->status_code == 0) {
    return $result;
  }
  throw (new Exception($result->message));
}

function ws_sendFile(
    $FILENAME,
    $USR_UID,
    $APP_UID,
    $DEL_INDEX=1,
    $DOC_UID=null,
    $APP_DOC_FIELDNAME=null,
    $title=null,
    $comment=null
) {
    $DOC_UID = ($DOC_UID != null)? $DOC_UID : -1;
    $APP_DOC_TYPE = ($DOC_UID == -1)? "ATTACHED" : "INPUT";
    $title = ($title != null)? $title : $FILENAME;
    $comment = ($comment != null)? $comment : null;

    $params = array(
        "ATTACH_FILE" => "@$FILENAME",
        "APPLICATION" => $APP_UID,
        "INDEX" => $DEL_INDEX,
        "DOC_UID" => $DOC_UID,
        "USR_UID" => $USR_UID,
        "APP_DOC_TYPE" => $APP_DOC_TYPE,
        "APP_DOC_FIELDNAME" => $APP_DOC_FIELDNAME,
        "TITLE" => $title,
        "COMMENT" => $comment
    );

    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, WS_UPLOAD_URL);
    //curl_setopt($ch, CURLOPT_VERBOSE, 1);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $params);
    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
    $response = curl_exec($ch);
    curl_close($ch);

    return $response;
}

function ws_updateFile($APP_DOC_UID, $FILENAME, $DOC_VERSION, $APP_DOC_TYPE=NULL, $USR_UID=NULL, $APP_UID=NULL, $DEL_INDEX=NULL, $DOC_UID=NULL, $title=NULL, $comment=NULL) {

  $params = array (
    'APP_DOC_UID' => $APP_DOC_UID,
    'DOC_VERSION' => $DOC_VERSION,
    'ATTACH_FILE' => "@$FILENAME"
  );

  if( $APP_UID != NULL)
    $params['APPLICATION'] = $APP_UID;
  if( $DEL_INDEX != NULL)
    $params['INDEX'] = $DEL_INDEX;
  if( $USR_UID != NULL)
    $params['USR_UID'] = $USR_UID;
  if( $DOC_UID != NULL)
    $params['DOC_UID'] = $DOC_UID;
  if( $APP_DOC_TYPE != NULL)
    $params['APP_DOC_TYPE'] = $APP_DOC_TYPE;
  if( $title != NULL)
    $params['TITLE'] = $title;
  if( $comment != NULL)
    $params['COMMENT'] = $comment;

  $ch = curl_init();
  curl_setopt($ch, CURLOPT_URL, WS_UPLOAD_URL);
  //curl_setopt($ch, CURLOPT_VERBOSE, 1);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
  curl_setopt($ch, CURLOPT_POST, 1);
  curl_setopt($ch, CURLOPT_POSTFIELDS, $params);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

//create a new user
function ws_createUser($userId, $firstname, $lastname, $email, $role, $password) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'userId' => $userId,
    'firstname' => $firstname,
    'lastname' => $lastname,
    'email' => $email,
    'role' => $role,
    'password' => $password
  );

  $result = $client->__SoapCall('createUser', array (
    $params
  ));

  return $result;
}

//create a new group
function ws_createGroup( $groupName ) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'name' => $groupName
  );
  $result = $client->__SoapCall('createGroup', array ( $params ));
  return $result;
}

//create a new group
function ws_createDepartment( $depName, $depParentId ) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'name' => $depName,
    'parentUID' => $depParentId
  );
  $result = $client->__SoapCall('createDepartment', array ( $params ));
  return $result;
}

//assignUserToGroup
function ws_assignUserToGroup($userId, $groupId) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'userId' => $userId,
    'groupId' => $groupId
  );

  $result = $client->__SoapCall('assignUserToGroup', array (
    $params
  ));
  return $result;
}

//assignUserToGroup
function ws_assignUserToDepartment($userId, $depId, $manager ) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'userId' => $userId,
    'departmentId' => $depId,
    'manager' => $manager
  );

  $result = $client->__SoapCall('assignUserToDepartment', array (
    $params
  ));
  return $result;
}

function ws_systemInformation() {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId
  );
  $result = $client->__SoapCall('systemInformation', array (
    $params
  ));
  return $result;
}

function ws_InputDocumentList($caseId) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId
  );

  $result = $client->__SoapCall('InputDocumentList', array (
    $params
  ));

  return $result;
}

function ws_outputDocumentList($caseId) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'caseId' => $caseId
  );

  $result = $client->__SoapCall('outputDocumentList', array (
    $params
  ));

  return $result;
}

function ws_removeDocument($appDocUid) {
  global $sessionId;
  global $client;

  $params = array (
    'sessionId' => $sessionId,
    'appDocUid' => $appDocUid
  );

  $result = $client->__SoapCall('RemoveDocument', array (
    $params
  ));

  return $result;
}
